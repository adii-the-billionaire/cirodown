<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>Cirodown</title>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.10.1/css/all.css">
<style>
@import "cirodown.min.css";
</style>
<link rel="stylesheet" type="text/css" href="main.css">
<body>
<header>
<a href="/">Ciro Santilli???</a>
<a href="/cirodown">Cirodown!!!</a>
<a class="font-awesome-container" href="https://stackoverflow.com/users/895245"><i class="fab fa-stack-overflow fa-fw"></i></a>
<a class="font-awesome-container" href="https://github.com/cirosantilli"><i class="fab fa-github fa-fw"></i></a>
</header>
<main class="cirodown">
<h1 id="cirodown"><a href="#cirodown" title="link to this element">Cirodown</a><span> </span></h1>
<div class="p" id="p-1"><span class="hide-hover"> <a href="#p-1">ğŸ”—</a></span>A Markup language to write multipage or single page HTML / PDF books, blogs, etc. that is <a href="#saner">saner</a> and more powerful than Markdown and Asciidoctor, but still nicer to write than XML and JSON, with reference implementation in JavaScript.</div><div class="p" id="p-2"><span class="hide-hover"> <a href="#p-2">ğŸ”—</a></span>The source for this document is at: <a href="https://github.com/cirosantilli/cirodown/blob/master/README.ciro">https://github.com/cirosantilli/cirodown/blob/master/README.ciro</a> and a rendered version can be seen at: <a href="https://cirosantilli.com/cirodown">https://cirosantilli.com/cirodown</a> and a live in-browser demo at: <a href="https://cirosantilli.com/cirodown/editor">https://cirosantilli.com/cirodown/editor</a>.</div><div class="toc-container">
<ul>
<li><div id="toc-quick-start"><a href="#quick-start" id="toc-1">1. Quick start</a><span> | <a href="#toc-quick-start">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-design-goals"><a href="#design-goals" id="toc-1">2. Design goals</a><span> | <a href="#toc-design-goals">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-saner"><a href="#saner" id="toc-1">2.1. Saner</a><span> | <a href="#toc-saner">ğŸ”— link</a> | <a href="#toc-design-goals">â†‘ parent "Design goals"</a></span></div></li>
<li><div id="toc-more-powerful"><a href="#more-powerful" id="toc-1">2.2. More powerful</a><span> | <a href="#toc-more-powerful">ğŸ”— link</a> | <a href="#toc-design-goals">â†‘ parent "Design goals"</a></span></div></li>
</ul>
<li><div id="toc-paragraphs"><a href="#paragraphs" id="toc-1">3. Paragraphs <code>\p</code></a><span> | <a href="#toc-paragraphs">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-links"><a href="#links" id="toc-1">4. Links <code>\a</code></a><span> | <a href="#toc-links">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-internal-cross-references"><a href="#internal-cross-references" id="toc-1">5. Internal cross references <code>\x</code></a><span> | <a href="#toc-internal-cross-references">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-x-child-argument"><a href="#x-child-argument" id="toc-1">5.1. x child argument</a><span> | <a href="#toc-x-child-argument">ğŸ”— link</a> | <a href="#toc-internal-cross-references">â†‘ parent "Internal cross references <code>\x</code>"</a></span></div></li>
<li><div id="toc-cross-reference-style"><a href="#cross-reference-style" id="toc-1">5.2. Cross reference style</a><span> | <a href="#toc-cross-reference-style">ğŸ”— link</a> | <a href="#toc-internal-cross-references">â†‘ parent "Internal cross references <code>\x</code>"</a></span></div></li>
<li><div id="toc-internal-cross-file-references"><a href="#internal-cross-file-references" id="toc-1">5.3. Internal cross file references</a><span> | <a href="#toc-internal-cross-file-references">ğŸ”— link</a> | <a href="#toc-internal-cross-references">â†‘ parent "Internal cross references <code>\x</code>"</a></span></div>
<ul>
<li><div id="toc-internal-cross-file-references-internals"><a href="#internal-cross-file-references-internals" id="toc-1">5.3.1. Internal cross file references internals</a><span> | <a href="#toc-internal-cross-file-references-internals">ğŸ”— link</a> | <a href="#toc-internal-cross-file-references">â†‘ parent "Internal cross file references"</a></span></div></li>
</ul>
<li><div id="toc-automatic-id-from-title"><a href="#automatic-id-from-title" id="toc-1">5.4. Automatic ID from title</a><span> | <a href="#toc-automatic-id-from-title">ğŸ”— link</a> | <a href="#toc-internal-cross-references">â†‘ parent "Internal cross references <code>\x</code>"</a></span></div></li>
</ul>
<li><div id="toc-headers"><a href="#headers" id="toc-1">6. Headers <code>\h</code></a><span> | <a href="#toc-headers">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-unlimited-header-levels"><a href="#unlimited-header-levels" id="toc-1">6.1. Unlimited header levels</a><span> | <a href="#toc-unlimited-header-levels">ğŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code>\h</code>"</a></span></div>
<ul>
<li><div id="toc-my-h4"><a href="#my-h4" id="toc-1">6.1.1. My h4</a><span> | <a href="#toc-my-h4">ğŸ”— link</a> | <a href="#toc-unlimited-header-levels">â†‘ parent "Unlimited header levels"</a></span></div>
<ul>
<li><div id="toc-my-h5"><a href="#my-h5" id="toc-1">6.1.1.1. My h5</a><span> | <a href="#toc-my-h5">ğŸ”— link</a> | <a href="#toc-my-h4">â†‘ parent "My h4"</a></span></div>
<ul>
<li><div id="toc-my-h6"><a href="#my-h6" id="toc-1">6.1.1.1.1. My h6</a><span> | <a href="#toc-my-h6">ğŸ”— link</a> | <a href="#toc-my-h5">â†‘ parent "My h5"</a></span></div>
<ul>
<li><div id="toc-my-h7"><a href="#my-h7" id="toc-1">6.1.1.1.1.1. My h7</a><span> | <a href="#toc-my-h7">ğŸ”— link</a> | <a href="#toc-my-h6">â†‘ parent "My h6"</a></span></div>
<ul>
<li><div id="toc-my-h8"><a href="#my-h8" id="toc-1">6.1.1.1.1.1.1. My h8</a><span> | <a href="#toc-my-h8">ğŸ”— link</a> | <a href="#toc-my-h7">â†‘ parent "My h7"</a></span></div>
<ul>
<li><div id="toc-my-h9"><a href="#my-h9" id="toc-1">6.1.1.1.1.1.1.1. My h9</a><span> | <a href="#toc-my-h9">ğŸ”— link</a> | <a href="#toc-my-h8">â†‘ parent "My h8"</a></span></div>
<ul>
<li><div id="toc-my-h10"><a href="#my-h10" id="toc-1">6.1.1.1.1.1.1.1.1. My h10</a><span> | <a href="#toc-my-h10">ğŸ”— link</a> | <a href="#toc-my-h9">â†‘ parent "My h9"</a></span></div>
<ul>
<li><div id="toc-my-h11"><a href="#my-h11" id="toc-1">6.1.1.1.1.1.1.1.1.1. My h11</a><span> | <a href="#toc-my-h11">ğŸ”— link</a> | <a href="#toc-my-h10">â†‘ parent "My h10"</a></span></div>
<ul>
<li><div id="toc-my-h12"><a href="#my-h12" id="toc-1">6.1.1.1.1.1.1.1.1.1.1. My h12</a><span> | <a href="#toc-my-h12">ğŸ”— link</a> | <a href="#toc-my-h11">â†‘ parent "My h11"</a></span></div>
<ul>
<li><div id="toc-my-h13"><a href="#my-h13" id="toc-1">6.1.1.1.1.1.1.1.1.1.1.1. My h13</a><span> | <a href="#toc-my-h13">ğŸ”— link</a> | <a href="#toc-my-h12">â†‘ parent "My h12"</a></span></div></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<li><div id="toc-table-of-contents"><a href="#table-of-contents" id="toc-1">6.2. Table of contents <code>\toc</code></a><span> | <a href="#toc-table-of-contents">ğŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code>\h</code>"</a></span></div>
<ul>
<li><div id="toc-id-scope"><a href="#id-scope" id="toc-1">6.2.1. id_scope</a><span> | <a href="#toc-id-scope">ğŸ”— link</a> | <a href="#toc-table-of-contents">â†‘ parent "Table of contents <code>\toc</code>"</a></span></div></li>
</ul>
<li><div id="toc-header-explicit-levels-vs-nesting-design-choice"><a href="#header-explicit-levels-vs-nesting-design-choice" id="toc-1">6.3. Header explicit levels vs nesting design choice</a><span> | <a href="#toc-header-explicit-levels-vs-nesting-design-choice">ğŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code>\h</code>"</a></span></div></li>
<li><div id="toc-includes"><a href="#includes" id="toc-1">6.4. Includes <code>\include</code></a><span> | <a href="#toc-includes">ğŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code>\h</code>"</a></span></div>
<ul>
<li><div id="toc-not-readme"><a href="#not-readme" id="toc-1">6.4.1. Not the README</a><span> | <a href="#toc-not-readme">ğŸ”— link</a> | <a href="#toc-includes">â†‘ parent "Includes <code>\include</code>"</a></span></div></li>
<li><div id="toc-not-readme-2"><a href="#not-readme-2" id="toc-1">6.4.2. Not the README 2</a><span> | <a href="#toc-not-readme-2">ğŸ”— link</a> | <a href="#toc-includes">â†‘ parent "Includes <code>\include</code>"</a></span></div></li>
</ul>
<li><div id="toc-skipping-header-levels"><a href="#skipping-header-levels" id="toc-1">6.5. Skipping header levels</a><span> | <a href="#toc-skipping-header-levels">ğŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code>\h</code>"</a></span></div></li>
<li><div id="toc-the-toplevel-header"><a href="#the-toplevel-header" id="toc-1">6.6. The toplevel header</a><span> | <a href="#toc-the-toplevel-header">ğŸ”— link</a> | <a href="#toc-headers">â†‘ parent "Headers <code>\h</code>"</a></span></div>
<ul>
<li><div id="toc-the-toplevel-header-ids-don-t-show"><a href="#the-toplevel-header-ids-don-t-show" id="toc-1">6.6.1. The toplevel header IDs don't show</a><span> | <a href="#toc-the-toplevel-header-ids-don-t-show">ğŸ”— link</a> | <a href="#toc-the-toplevel-header">â†‘ parent "The toplevel header"</a></span></div></li>
<li><div id="toc-the-id-of-the-first-header-is-derived-from-the-filename"><a href="#the-id-of-the-first-header-is-derived-from-the-filename" id="toc-1">6.6.2. The ID of the first header is derived from the filename</a><span> | <a href="#toc-the-id-of-the-first-header-is-derived-from-the-filename">ğŸ”— link</a> | <a href="#toc-the-toplevel-header">â†‘ parent "The toplevel header"</a></span></div></li>
</ul>
</li>
</ul>
<li><div id="toc-lists"><a href="#lists" id="toc-1">7. Lists <code>\l</code></a><span> | <a href="#toc-lists">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-images"><a href="#images" id="toc-1">8. Images <code>\image</code></a><span> | <a href="#toc-images">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-where-to-store-images"><a href="#where-to-store-images" id="toc-1">8.1. Where to store images</a><span> | <a href="#toc-where-to-store-images">ğŸ”— link</a> | <a href="#toc-images">â†‘ parent "Images <code>\image</code>"</a></span></div></li>
<li><div id="toc-image-generators"><a href="#image-generators" id="toc-1">8.2. Image generators</a><span> | <a href="#toc-image-generators">ğŸ”— link</a> | <a href="#toc-images">â†‘ parent "Images <code>\image</code>"</a></span></div></li>
</ul>
<li><div id="toc-code"><a href="#code" id="toc-1">9. Code <code>`</code>, <code>``</code>, <code>\c</code> and <code>\C</code></a><span> | <a href="#toc-code">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-math"><a href="#math" id="toc-1">10. Mathematics <code>$</code>, <code>$$</code>, <code>\m</code> and <code>\M</code></a><span> | <a href="#toc-math">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-math-defines-across-blocks"><a href="#math-defines-across-blocks" id="toc-1">10.1. Math defines across blocks</a><span> | <a href="#toc-math-defines-across-blocks">ğŸ”— link</a> | <a href="#toc-math">â†‘ parent "Mathematics <code>$</code>, <code>$$</code>, <code>\m</code> and <code>\M</code>"</a></span></div></li>
</ul>
<li><div id="toc-tables"><a href="#tables" id="toc-1">11. Tables <code>\table</code>, <code>\tr</code>, <code>\th</code> and <code>\td</code></a><span> | <a href="#toc-tables">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-quotations"><a href="#quotations" id="toc-1">12. Quotations <code>\q</code></a><span> | <a href="#toc-quotations">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-comments"><a href="#comments" id="toc-1">13. Comments</a><span> | <a href="#toc-comments">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-cirodown-syntax"><a href="#cirodown-syntax" id="toc-1">14. Cirodown syntax</a><span> | <a href="#toc-cirodown-syntax">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-insane-macro-shortcuts"><a href="#insane-macro-shortcuts" id="toc-1">14.1. Insane macro shortcuts</a><span> | <a href="#toc-insane-macro-shortcuts">ğŸ”— link</a> | <a href="#toc-cirodown-syntax">â†‘ parent "Cirodown syntax"</a></span></div>
<ul>
<li><div id="toc-insane-code-and-math-shortcuts"><a href="#insane-code-and-math-shortcuts" id="toc-1">14.1.1. Insane code and math shortcuts</a><span> | <a href="#toc-insane-code-and-math-shortcuts">ğŸ”— link</a> | <a href="#toc-insane-macro-shortcuts">â†‘ parent "Insane macro shortcuts"</a></span></div></li>
<li><div id="toc-insane-macro-shortcut-extra-arguments"><a href="#insane-macro-shortcut-extra-arguments" id="toc-1">14.1.2. Insane macro shortcut extra arguments</a><span> | <a href="#toc-insane-macro-shortcut-extra-arguments">ğŸ”— link</a> | <a href="#toc-insane-macro-shortcuts">â†‘ parent "Insane macro shortcuts"</a></span></div></li>
<li><div id="toc-escapes-in-insane-macro-shortcuts"><a href="#escapes-in-insane-macro-shortcuts" id="toc-1">14.1.3. Escapes in insane macro shortcuts</a><span> | <a href="#toc-escapes-in-insane-macro-shortcuts">ğŸ”— link</a> | <a href="#toc-insane-macro-shortcuts">â†‘ parent "Insane macro shortcuts"</a></span></div></li>
</ul>
<li><div id="toc-macro-argument-syntax"><a href="#macro-argument-syntax" id="toc-1">14.2. Macro argument syntax</a><span> | <a href="#toc-macro-argument-syntax">ğŸ”— link</a> | <a href="#toc-cirodown-syntax">â†‘ parent "Cirodown syntax"</a></span></div>
<ul>
<li><div id="toc-positional-vs-named-arguments"><a href="#positional-vs-named-arguments" id="toc-1">14.2.1. Positional vs named arguments</a><span> | <a href="#toc-positional-vs-named-arguments">ğŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-javascript-interface-for-arguments"><a href="#javascript-interface-for-arguments" id="toc-1">14.2.2. JavaScript interface for arguments</a><span> | <a href="#toc-javascript-interface-for-arguments">ğŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-literal-arguments"><a href="#literal-arguments" id="toc-1">14.2.3. Literal arguments</a><span> | <a href="#toc-literal-arguments">ğŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-argument-leading-newline-removal"><a href="#argument-leading-newline-removal" id="toc-1">14.2.4. Argument leading newline removal</a><span> | <a href="#toc-argument-leading-newline-removal">ğŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-argument-newlines-between-arguments-removal"><a href="#argument-newlines-between-arguments-removal" id="toc-1">14.2.5. Argument newlines between arguments removal</a><span> | <a href="#toc-argument-newlines-between-arguments-removal">ğŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-escape-characters"><a href="#escape-characters" id="toc-1">14.2.6. Escape characters</a><span> | <a href="#toc-escape-characters">ğŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-auto-parent"><a href="#auto-parent" id="toc-1">14.2.7. <code>auto_parent</code> macro property</a><span> | <a href="#toc-auto-parent">ğŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-remove-whitespace-children"><a href="#remove-whitespace-children" id="toc-1">14.2.8. <code>remove_whitespace_children</code> macro argument property</a><span> | <a href="#toc-remove-whitespace-children">ğŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-argument-automatic-indentation-removal"><a href="#argument-automatic-indentation-removal" id="toc-1">14.2.9. Argument automatic indentation removal</a><span> | <a href="#toc-argument-automatic-indentation-removal">ğŸ”— link</a> | <a href="#toc-macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></div></li>
</ul>
<li><div id="toc-macro-capitalization-for-block-vs-inline"><a href="#macro-capitalization-for-block-vs-inline" id="toc-1">14.3. Macro capitalization for block vs inline</a><span> | <a href="#toc-macro-capitalization-for-block-vs-inline">ğŸ”— link</a> | <a href="#toc-cirodown-syntax">â†‘ parent "Cirodown syntax"</a></span></div></li>
</ul>
<li><div id="toc-tooling"><a href="#tooling" id="toc-1">15. Tooling</a><span> | <a href="#toc-tooling">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-cirodown-executable"><a href="#cirodown-executable" id="toc-1">15.1. <code>cirodown</code> executable</a><span> | <a href="#toc-cirodown-executable">ğŸ”— link</a> | <a href="#toc-tooling">â†‘ parent "Tooling"</a></span></div>
<ul>
<li><div id="toc-index-files"><a href="#index-files" id="toc-1">15.1.1. Index files</a><span> | <a href="#toc-index-files">ğŸ”— link</a> | <a href="#toc-cirodown-executable">â†‘ parent "<code>cirodown</code> executable"</a></span></div></li>
<li><div id="toc-cirodown-executable-options"><a href="#cirodown-executable-options" id="toc-1">15.1.2. <code>cirodown</code> executable options</a><span> | <a href="#toc-cirodown-executable-options">ğŸ”— link</a> | <a href="#toc-cirodown-executable">â†‘ parent "<code>cirodown</code> executable"</a></span></div>
<ul>
<li><div id="toc-dry-run"><a href="#dry-run" id="toc-1">15.1.2.1. <code>--dry-run</code></a><span> | <a href="#toc-dry-run">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-generate"><a href="#generate" id="toc-1">15.1.2.2. <code>--generate</code></a><span> | <a href="#toc-generate">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-generate-multifile"><a href="#generate-multifile" id="toc-1">15.1.2.3. <code>--generate-multifile</code></a><span> | <a href="#toc-generate-multifile">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-help-macros"><a href="#help-macros" id="toc-1">15.1.2.4. <code>--help-macros</code></a><span> | <a href="#toc-help-macros">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-html-embed"><a href="#html-embed" id="toc-1">15.1.2.5. <code>--html-embed</code></a><span> | <a href="#toc-html-embed">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-html-single-page"><a href="#html-single-page" id="toc-1">15.1.2.6. <code>--html-single-page</code></a><span> | <a href="#toc-html-single-page">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-html-x-no-extension"><a href="#html-x-no-extension" id="toc-1">15.1.2.7. <code>--no-html-x-extension</code></a><span> | <a href="#toc-html-x-no-extension">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-outfile"><a href="#outfile" id="toc-1">15.1.2.8. <code>--outfile &lt;outfie&gt;</code></a><span> | <a href="#toc-outfile">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-publish"><a href="#publish" id="toc-1">15.1.2.9. <code>--publish</code></a><span> | <a href="#toc-publish">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div>
<ul>
<li><div id="toc-publish-to-github-pages"><a href="#publish-to-github-pages" id="toc-1">15.1.2.9.1. Publish to GitHub Pages</a><span> | <a href="#toc-publish-to-github-pages">ğŸ”— link</a> | <a href="#toc-publish">â†‘ parent "<code>--publish</code>"</a></span></div></li>
</ul>
<li><div id="toc-publish-commit"><a href="#publish-commit" id="toc-1">15.1.2.10. <code>--publish-commit &lt;commit-message&gt;</code></a><span> | <a href="#toc-publish-commit">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-watch"><a href="#watch" id="toc-1">15.1.2.11. <code>--watch</code></a><span> | <a href="#toc-watch">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-template"><a href="#template" id="toc-1">15.1.2.12. <code>--template</code></a><span> | <a href="#toc-template">ğŸ”— link</a> | <a href="#toc-cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
</ul>
<li><div id="toc-cirodown-json"><a href="#cirodown-json" id="toc-1">15.1.3. <code>cirodown.json</code></a><span> | <a href="#toc-cirodown-json">ğŸ”— link</a> | <a href="#toc-cirodown-executable">â†‘ parent "<code>cirodown</code> executable"</a></span></div>
<ul>
<li><div id="toc-prepublish"><a href="#prepublish" id="toc-1">15.1.3.1. <code>prepublish</code></a><span> | <a href="#toc-prepublish">ğŸ”— link</a> | <a href="#toc-cirodown-json">â†‘ parent "<code>cirodown.json</code>"</a></span></div></li>
<li><div id="toc-media-source-type"><a href="#media-source-type" id="toc-1">15.1.3.2. <code>media_source_type</code></a><span> | <a href="#toc-media-source-type">ğŸ”— link</a> | <a href="#toc-cirodown-json">â†‘ parent "<code>cirodown.json</code>"</a></span></div></li>
<li><div id="toc-media-base-url"><a href="#media-base-url" id="toc-1">15.1.3.3. <code>media_base_url</code></a><span> | <a href="#toc-media-base-url">ğŸ”— link</a> | <a href="#toc-cirodown-json">â†‘ parent "<code>cirodown.json</code>"</a></span></div></li>
</ul>
</li>
</ul>
<li><div id="toc-editor-with-preview"><a href="#editor-with-preview" id="toc-1">15.2. Editor with preview</a><span> | <a href="#toc-editor-with-preview">ğŸ”— link</a> | <a href="#toc-tooling">â†‘ parent "Tooling"</a></span></div></li>
</ul>
<li><div id="toc-developing-cirodown"><a href="#developing-cirodown" id="toc-1">16. Developing Cirodown</a><span> | <a href="#toc-developing-cirodown">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-test-system"><a href="#test-system" id="toc-1">16.1. Test system</a><span> | <a href="#toc-test-system">ğŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-overview-of-files-in-this-repository"><a href="#overview-of-files-in-this-repository" id="toc-1">16.2. Overview of files in this repository</a><span> | <a href="#toc-overview-of-files-in-this-repository">ğŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div>
<ul>
<li><div id="toc-build-sass"><a href="#build-sass" id="toc-1">16.2.1. <code>build-sass</code></a><span> | <a href="#toc-build-sass">ğŸ”— link</a> | <a href="#toc-overview-of-files-in-this-repository">â†‘ parent "Overview of files in this repository"</a></span></div></li>
</ul>
<li><div id="toc-internals-api"><a href="#internals-api" id="toc-1">16.3. Internals API</a><span> | <a href="#toc-internals-api">ğŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-toplevel"><a href="#toplevel" id="toc-1">16.4. The <code>\toplevel</code> implicit macro</a><span> | <a href="#toc-toplevel">ğŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div>
<ul>
<li><div id="toc-html-document-title"><a href="#html-document-title" id="toc-1">16.4.1. HTML document title</a><span> | <a href="#toc-html-document-title">ğŸ”— link</a> | <a href="#toc-toplevel">â†‘ parent "The <code>\toplevel</code> implicit macro"</a></span></div></li>
</ul>
<li><div id="toc-css"><a href="#css" id="toc-1">16.5. CSS</a><span> | <a href="#toc-css">ğŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-formal-grammar"><a href="#formal-grammar" id="toc-1">16.6. Formal grammar</a><span> | <a href="#toc-formal-grammar">ğŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-todo"><a href="#todo" id="toc-1">16.7. TODO</a><span> | <a href="#toc-todo">ğŸ”— link</a> | <a href="#toc-developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></div></li>
</ul>
<li><div id="toc-related-projects"><a href="#related-projects" id="toc-1">17. Related projects</a><span> | <a href="#toc-related-projects">ğŸ”— link</a> | <a href="#toc-cirodown">â†‘ parent "Cirodown"</a></span></div></li>
</ul>
</div>
<h2 id="quick-start"><a href="#quick-start" title="link to this element">1. Quick start</a><span>  | <a href="#toc-quick-start">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-3"><span class="hide-hover"> <a href="#p-3">ğŸ”—</a></span>Live in-browser demo: <a href="https://cirosantilli.com/cirodown/editor">https://cirosantilli.com/cirodown/editor</a></div><div class="p" id="p-4"><span class="hide-hover"> <a href="#p-4">ğŸ”—</a></span>Alternatively, you can clone and run it locally with:
<div><span class="hide-hover"> <a href="#c-2">ğŸ”—</a></span><pre id="c-2"><code>git clone https://github.com/cirosantilli/cirodown-template
cd cirodown-template
npm install
./build
xdg-open editor.html
</code></pre></div>

We want to make that editor amazing later on: <a href="#editor-with-preview">live browser editor</a>.</div><div class="p" id="p-5"><span class="hide-hover"> <a href="#p-5">ğŸ”—</a></span>Install the NPM package globally and use it from the command line for a quick conversion:
<div><span class="hide-hover"> <a href="#c-3">ğŸ”—</a></span><pre id="c-3"><code>npm install -g cirodown
printf 'ab\ncd\n' | cirodown --body-only
</code></pre></div>

or <a href="https://stackoverflow.com/questions/9679932/how-to-use-package-installed-locally-in-node-modules">install in a single directory and run locally from it</a>:
<div><span class="hide-hover"> <a href="#c-4">ğŸ”—</a></span><pre id="c-4"><code>printf '{}\n' &gt; package.json
npm install --save cirodown
printf 'ab\ncd\n' | npx cirodown --body-only
</code></pre></div>
</div><div class="p" id="p-6"><span class="hide-hover"> <a href="#p-6">ğŸ”—</a></span>To start a new project with a minimal sane template <a href="#generate">use <code>--generate</code></a> and then <a href="#publish-to-github-pages">publish it to GitHub with <code>--publish</code></a>:
<div><span class="hide-hover"> <a href="#c-5">ğŸ”—</a></span><pre id="c-5"><code>mkdir -p cirodown-test
cd cirodown-test
git init
git remote add origin git@github.com:USERNAME/cirodown-test.git
cirodown --generate
cirodown --publish
</code></pre></div>

Or to start with a more complex template suitable for multifile projects use <a href="#generate-multifile">use <code>--generate-multifile</code></a> instead:
<div><span class="hide-hover"> <a href="#c-6">ğŸ”—</a></span><pre id="c-6"><code>cirodown --generate-multifile
</code></pre></div>
</div><div class="p" id="p-7"><span class="hide-hover"> <a href="#p-7">ğŸ”—</a></span>Render all <code>.ciro</code> files form the master of this project to separate files:
<div><span class="hide-hover"> <a href="#c-7">ğŸ”—</a></span><pre id="c-7"><code>git clone https://github.com/cirosantilli/cirodown
cd cirodown
npm link
npm link cirodown
./cirodown --html-single-page README.ciro &gt; index.html
xdg-open index.html
</code></pre></div>

or render README.ciro and all includes <a href="#includes">includes</a> into a single HTML page and view it:
<div><span class="hide-hover"> <a href="#c-8">ğŸ”—</a></span><pre id="c-8"><code>./cirodown .
xdg-open index.html
</code></pre></div>

or render instead as one fully offline standalone HTML file that can be given directly to readers with <a href="#html-embed"><code>--html-embed</code></a>:
<div><span class="hide-hover"> <a href="#c-9">ğŸ”—</a></span><pre id="c-9"><code>./cirodown --html-single-page README.ciro &gt; index.html
</code></pre></div>
</div><div class="p" id="p-8"><span class="hide-hover"> <a href="#p-8">ğŸ”—</a></span>Try out the JavaScript API with <a href="api_hello.js">api_hello.js</a>:
<div><span class="hide-hover"> <a href="#c-10">ğŸ”—</a></span><pre id="c-10"><code>npm install cirodown
./api_hello.js
</code></pre></div>
</div><div class="p" id="p-9"><span class="hide-hover"> <a href="#p-9">ğŸ”—</a></span>The <code>npm link</code> commands allow you to make changes to the code without re-installing the package all the time for development! Try hacking <a href="cirodown">cirodown</a> to see it. Just remember that if you add a new dependency, you must redo the symlinking business:
<div><span class="hide-hover"> <a href="#c-11">ğŸ”—</a></span><pre id="c-11"><code>npm install &lt;dependency&gt;
npm link
npm link cirodown
</code></pre></div>

Asked if there is a better way at: <a href="https://stackoverflow.com/questions/59389027/how-to-interactively-test-the-executable-of-an-npm-node-js-package-during-develo">https://stackoverflow.com/questions/59389027/how-to-interactively-test-the-executable-of-an-npm-node-js-package-during-develo</a>. The symlink business can be undone with:
<div><span class="hide-hover"> <a href="#c-12">ğŸ”—</a></span><pre id="c-12"><code>npm unlink
rm node_modules/cirodown
</code></pre></div>
</div><div class="p" id="p-10"><span class="hide-hover"> <a href="#p-10">ğŸ”—</a></span>TODO: create a multifile blog example folder and link from here.</div><h2 id="design-goals"><a href="#design-goals" title="link to this element">2. Design goals</a><span>  | <a href="#toc-design-goals">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-11"><span class="hide-hover"> <a href="#p-11">ğŸ”—</a></span>Cirodown is designed entirely to allow writing complex professional HTML and PDF scientific books, blogs, articles and encyclopedias.</div><div class="p" id="p-12"><span class="hide-hover"> <a href="#p-12">ğŸ”—</a></span>Cirodown aims to be the ultimate LaTeX "killer", allowing books to be finally published as either HTML or PDF painlessly (LaTeX being only a backend to PDF generation), supporting out of the box feature such as:
<div><ul id="ul-26">
<div><li id="l-82"><a href="#internal-cross-references">references</a> to <a href="#headers">headers</a>, <a href="#images">images</a>, etc. with error checking: never break internal links gain</li></div><div><li id="l-83">KaTeX server side <a href="#math">Mathematics</a></li></div><div><li id="l-84">multi file features out of the box so you don't need a separate wrapper like Jekyll to make a multi-page website:
  <div><ul id="ul-52">
<div><li id="l-148"><a href="#internal-cross-file-references">Internal cross file references</a></li></div><div><li id="l-149"><a href="#table-of-contents">table of contents</a> that crosses input files</li></div><div><li id="l-150"><code>inotifywait</code> watch rebuild server</li></div><div><li id="l-151">cross file includes that work as links on multi output file mode, and true includes in single output file mode</li></div><div><li id="l-152">cross file configuration files to factor out common page parts like headers and footers</li></div></ul></div></li></div></ul></div></div><h3 id="saner"><a href="#saner" title="link to this element">2.1. Saner</a><span>  | <a href="#toc-saner">â‡‘ toc</a> | <a href="#design-goals">â†‘ parent "Design goals"</a></span></h3>
<div class="p" id="p-13"><span class="hide-hover"> <a href="#p-13">ğŸ”—</a></span>Originally, Cirodown was is meant to be both saner and more powerful than Markdown and Asciidoctor.</div><div class="p" id="p-14"><span class="hide-hover"> <a href="#p-14">ğŸ”—</a></span>But alas, as Ciro started implementing and using it, he started to bring some Markdown <a href="#insane-macro-shortcuts">insanity he missed back in</a>, </div><div class="p" id="p-15"><span class="hide-hover"> <a href="#p-15">ğŸ”—</a></span>And so this "degraded" slightly into a language slightly saner than Asciidoctor but with an amazing Node.js implementation that makes it better for book writing and website publishing.</div><div class="p" id="p-16"><span class="hide-hover"> <a href="#p-16">ğŸ”—</a></span>But hopefully, haveing starting from a saner point will still produce a saner end result, e.g. there are sane constructs for every insane one.</div><div class="p" id="p-17"><span class="hide-hover"> <a href="#p-17">ğŸ”—</a></span>It is intended that this will be an acceptable downside as Cirodown will be used primarily large complex content such as books rather than forum posts, and will therefore primarily written either:
<div><ul id="ul-27">
<div><li id="l-85">in text editors locally, where users have more features than in random browser textareas</li></div><div><li id="l-86">in a dedicated website that will revolutionize education, and therefore have a good JavaScript editing interface: <a href="https://github.com/cirosantilli/write-free-science-books-to-get-famous-website">https://github.com/cirosantilli/write-free-science-books-to-get-famous-website</a></li></div></ul></div></div><div class="p" id="p-18"><span class="hide-hover"> <a href="#p-18">ğŸ”—</a></span>For example, originally Cirodown had exactly five magic characters, with similar functions as in LaTeX:
<div><ul id="ul-28">
<div><li id="l-87"><code></code> backslash to start a macro, like LaTeX</li></div><div><li id="l-88"><code>{</code> and <code>}</code>: left and right square brackets to delimit <a href="#positional-vs-named-arguments">optional macro arguments</a></li></div><div><li id="l-89"><code>[</code> and <code>]</code>: left and right curly braces bracket to start an optional arguments</li></div></ul></div>
and double blank newlines for <a href="#paragraphs">paragraphs</a> if you are pedantic, but this later degrated into many more with <a href="#insane-macro-shortcuts">Insane macro shortcuts</a>.</div><div class="p" id="p-19"><span class="hide-hover"> <a href="#p-19">ğŸ”—</a></span>We would like to have only square brackets for both optional and mandatory to have even less magic characters, but that would make the language difficult to parse for computer and humans. LaTeX was right for once!</div><div class="p" id="p-20"><span class="hide-hover"> <a href="#p-20">ğŸ”—</a></span>This produces a very regular syntax that is easy to learn, including doing:
<div><ul id="ul-29">
<div><li id="l-90">arbitrary nesting of elements</li></div><div><li id="l-91">adding arbitrary properties to elements</li></div></ul></div></div><div class="p" id="p-21"><span class="hide-hover"> <a href="#p-21">ğŸ”—</a></span>This sanity also makes the end tail learning curve of the endless edge cases found in Markdown and Asciidoctor disappear.</div><div class="p" id="p-22"><span class="hide-hover"> <a href="#p-22">ğŸ”—</a></span>The language is designed to be philosophically isomorphic to HTML to:
<div><ul id="ul-30">
<div><li id="l-92">further reduce the learning curve</li></div><div><li id="l-93">ensure that most of HTML constructs can be reached, including arbitrary nesting</li></div></ul></div></div><div class="p" id="p-23"><span class="hide-hover"> <a href="#p-23">ğŸ”—</a></span>More precisely:
<div><ul id="ul-31">
<div><li id="l-94">macro names map to tag names, e.g.: <code>\\a</code> to <code>&lt;a</code></li></div><div><li id="l-95"><div class="p" id="p-423"><span class="hide-hover"> <a href="#p-423">ğŸ”—</a></span>  one of the arguments of macros, maps to the content of the HTML element, and the others map to attributes.</div><div class="p" id="p-424"><span class="hide-hover"> <a href="#p-424">ğŸ”—</a></span>  E.g., in a link:
  <div><span class="hide-hover"> <a href="#c-155">ğŸ”—</a></span><pre id="c-155"><code>\a[http://example.com][Link text\]</code></pre></div>

  the first macro argument:
  <div><span class="hide-hover"> <a href="#c-156">ğŸ”—</a></span><pre id="c-156"><code>http://example.com</code></pre></div>

  maps to the <code>href</code> of <code>&lt;a</code>, and the second macro argument:
  <div><span class="hide-hover"> <a href="#c-157">ğŸ”—</a></span><pre id="c-157"><code>Link text</code></pre></div>

  maps to the internal content of <code>&lt;a&gt;Link text&lt;&gt;</code>.
</div></li></div></ul></div></div><h3 id="more-powerful"><a href="#more-powerful" title="link to this element">2.2. More powerful</a><span>  | <a href="#toc-more-powerful">â‡‘ toc</a> | <a href="#design-goals">â†‘ parent "Design goals"</a></span></h3>
<div class="p" id="p-24"><span class="hide-hover"> <a href="#p-24">ğŸ”—</a></span>The <a href="#saner">high sanity of Cirodown</a>, also makes creating new macro extensions extremely easy and intuitive.</div><div class="p" id="p-25"><span class="hide-hover"> <a href="#p-25">ğŸ”—</a></span>All built-in language features use the exact same API as new extensions, which ensures that the extension API is sane forever.</div><div class="p" id="p-26"><span class="hide-hover"> <a href="#p-26">ğŸ”—</a></span>Markdown is clearly missing many key features such as block attributes and <a href="#internal-cross-references">Internal cross references <code>\x</code></a>, and has no standardized extension mechanism.</div><div class="p" id="p-27"><span class="hide-hover"> <a href="#p-27">ğŸ”—</a></span>The "more powerful than Asciidoctor" part is only partially true, since Asciidoctor is very featureful can do basically anything through extensions.</div><div class="p" id="p-28"><span class="hide-hover"> <a href="#p-28">ğŸ”—</a></span>The difference is mostly that Cirodown is completely and entirely focused on making amazing scientific books, and so will have key features for that application out-of-the box, notably:
<div><ul id="ul-32">
<div><li id="l-96">amazing header/ToC/ID features including proper error reports: never have a internal broken link or duplicate ID again</li></div><div><li id="l-97"><a href="#math">server side pre-rendered maths with KaTeX</a>: all divs and spans are ready, browser only applies CSS, no JavaScript gets executed</li></div><div><li id="l-98"><a href="#publish"><code>--publish</code></a>: we take care of website publishing for you out-of-the-box, no need to integrate into an external project like Jekyll</li></div></ul></div></div><div class="p" id="p-29"><span class="hide-hover"> <a href="#p-29">ğŸ”—</a></span>Another advantage over Asciidoctor is that the reference implementation of Cirodown is in JavaScript, and can therefore be used on browser live preview out of the box. Asciidoctor does Transpile to JS with <a href="https://github.com/opal/opal">Opal</a>, but who wants to deal with that layer of complexity?</div><h2 id="paragraphs"><a href="#paragraphs" title="link to this element">3. Paragraphs <code>\p</code></a><span>  | <a href="#toc-paragraphs">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-30"><span class="hide-hover"> <a href="#p-30">ğŸ”—</a></span>OK, this is too common, so we opted for some <a href="#insane-macro-shortcuts">insanity</a> here: double newline is a paragraph!
<div><span class="hide-hover"> <a href="#c-13">ğŸ”—</a></span><pre id="c-13"><code>Paragraph 1.

Paragraph 2.
</code></pre></div>
<div class="p" id="p-300"><span class="hide-hover"> <a href="#p-300">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-1">ğŸ”—</a></span><blockquote id="q-1"><div class="p" id="p-354"><span class="hide-hover"> <a href="#p-354">ğŸ”—</a></span>Paragraph 1.</div><div class="p" id="p-355"><span class="hide-hover"> <a href="#p-355">ğŸ”—</a></span>Paragraph 2.</div></blockquote></div></div><div class="p" id="p-31"><span class="hide-hover"> <a href="#p-31">ğŸ”—</a></span>Equivalently however, you can use an explicit <code>\p</code> macros as well, which is required for example to add properties to a paragraph, e.g.:
<div><span class="hide-hover"> <a href="#c-14">ğŸ”—</a></span><pre id="c-14"><code>\p{id=paragraph-1}[Paragraph 1]
\p{id=paragraph-2}[Paragraph 2]
</code></pre></div>
<div class="p" id="p-301"><span class="hide-hover"> <a href="#p-301">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-2">ğŸ”—</a></span><blockquote id="q-2"><div class="p" id="p-356"><span class="hide-hover"> <a href="#p-356">ğŸ”—</a></span><div class="p" id="paragraph-1"><span class="hide-hover"> <a href="#paragraph-1">ğŸ”—</a></span>Paragraph 1</div>
<div class="p" id="paragraph-2"><span class="hide-hover"> <a href="#paragraph-2">ğŸ”—</a></span>Paragraph 2</div></div></blockquote></div></div><div class="p" id="p-32"><span class="hide-hover"> <a href="#p-32">ğŸ”—</a></span>Paragraphs are created automatically inside <a href="#macro-argument-syntax">macro argument</a> whenever a double newline appears.</div><div class="p" id="p-33"><span class="hide-hover"> <a href="#p-33">ğŸ”—</a></span>Note that Cirodown paragraphs render in HTML as <code>div</code> with <code>class="p"</code> and not as <code>p</code>. This means that you can add basically anything inside them, e.g. a list:
<div><span class="hide-hover"> <a href="#c-15">ğŸ”—</a></span><pre id="c-15"><code>My favorite list is:
\ul[
\li[aa]
\li[bb]
]
because it is simple.
</code></pre></div>

which renders as a single paragraph.</div><div class="p" id="p-34"><span class="hide-hover"> <a href="#p-34">ğŸ”—</a></span>One major advantage of this, is that when writing documentation, you often want to keep lists or code blocks inside a given paragraph, so that it is easy to reference the entire paragraph with an ID. Think for example of paragraphs in the C++ standard.</div><h2 id="links"><a href="#links" title="link to this element">4. Links <code>\a</code></a><span>  | <a href="#toc-links">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-35"><span class="hide-hover"> <a href="#p-35">ğŸ”—</a></span>Autolink (link text is the same as the link):
<div><span class="hide-hover"> <a href="#c-16">ğŸ”—</a></span><pre id="c-16"><code>\a[http://example.com]
</code></pre></div>
<div class="p" id="p-302"><span class="hide-hover"> <a href="#p-302">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-3">ğŸ”—</a></span><blockquote id="q-3"><div class="p" id="p-357"><span class="hide-hover"> <a href="#p-357">ğŸ”—</a></span><a href="http://example.com">http://example.com</a></div></blockquote></div></div><div class="p" id="p-36"><span class="hide-hover"> <a href="#p-36">ğŸ”—</a></span>Link with custom text:
<div><span class="hide-hover"> <a href="#c-17">ğŸ”—</a></span><pre id="c-17"><code>\a[http://example.com][my custom link text]
</code></pre></div>
<div class="p" id="p-303"><span class="hide-hover"> <a href="#p-303">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-4">ğŸ”—</a></span><blockquote id="q-4"><div class="p" id="p-358"><span class="hide-hover"> <a href="#p-358">ğŸ”—</a></span><a href="http://example.com">my custom link text</a></div></blockquote></div></div><div class="p" id="p-37"><span class="hide-hover"> <a href="#p-37">ğŸ”—</a></span>Link with multiple paragraphs inside it:
<div><span class="hide-hover"> <a href="#c-18">ğŸ”—</a></span><pre id="c-18"><code>\a[http://example.com][Multiple

paragraphs]
</code></pre></div>
<div class="p" id="p-304"><span class="hide-hover"> <a href="#p-304">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-5">ğŸ”—</a></span><blockquote id="q-5"><div class="p" id="p-359"><span class="hide-hover"> <a href="#p-359">ğŸ”—</a></span><a href="http://example.com"><div class="p" id="p-435"><span class="hide-hover"> <a href="#p-435">ğŸ”—</a></span>Multiple</div><div class="p" id="p-436"><span class="hide-hover"> <a href="#p-436">ğŸ”—</a></span>paragraphs</div></a></div></blockquote></div></div><h2 id="internal-cross-references"><a href="#internal-cross-references" title="link to this element">5. Internal cross references <code>\x</code></a><span>  | <a href="#toc-internal-cross-references">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-38"><span class="hide-hover"> <a href="#p-38">ğŸ”—</a></span>Every macro in Cirodown can have an optional <code>id</code> and a <code>title</code> property.</div><div class="p" id="p-39"><span class="hide-hover"> <a href="#p-39">ğŸ”—</a></span>Those that have a <code>title</code> but no <code>id</code>, get an auto-generated ID from the title: <a href="#automatic-id-from-title">Automatic ID from title</a>.</div><div class="p" id="p-40"><span class="hide-hover"> <a href="#p-40">ğŸ”—</a></span>For macros that do have an ID, you can write a cross reference to it, e.g.:
<div><span class="hide-hover"> <a href="#c-19">ğŸ”—</a></span><pre id="c-19"><code>See this \x[internal-cross-references] awesome section.
</code></pre></div>
<div class="p" id="p-305"><span class="hide-hover"> <a href="#p-305">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-6">ğŸ”—</a></span><blockquote id="q-6"><div class="p" id="p-360"><span class="hide-hover"> <a href="#p-360">ğŸ”—</a></span>See this <a href="#internal-cross-references">Internal cross references <code>\x</code></a> awesome section.</div></blockquote></div></div><h3 id="x-child-argument"><a href="#x-child-argument" title="link to this element">5.1. x child argument</a><span>  | <a href="#toc-x-child-argument">â‡‘ toc</a> | <a href="#internal-cross-references">â†‘ parent "Internal cross references <code>\x</code>"</a></span></h3>
<div class="p" id="p-41"><span class="hide-hover"> <a href="#p-41">ğŸ”—</a></span>TODO implement.</div><div class="p" id="p-42"><span class="hide-hover"> <a href="#p-42">ğŸ”—</a></span>Setting <code>child=1</code> on a cross reference to a header as in:
<div><span class="hide-hover"> <a href="#c-20">ğŸ”—</a></span><pre id="c-20"><code>\xref[my-header]{child=1}
</code></pre></div>

has the following effects:
<div><ul id="ul-33">
<div><li id="l-99">add the current header to the list of extra parents of the child</li></div></ul></div></div><div class="p" id="p-43"><span class="hide-hover"> <a href="#p-43">ğŸ”—</a></span>This allows a section to have multiple parents, e.g. to include it into multiple categories. For example:
<div><span class="hide-hover"> <a href="#c-21">ğŸ”—</a></span><pre id="c-21"><code>\h[1][Animals]

\h[2][Mammals]

\h[3][Dog]

\h[3][Cat]

\h[2][Cute animals]

Cute animals:

\l[\xref[dog]{child=1}]
\l[\xref[cat]]
</code></pre></div>

would render something like:
<div><span class="hide-hover"> <a href="#c-22">ğŸ”—</a></span><pre id="c-22"><code>h1 Animals

h2 Mammals

h3 Dog (parent section: Mammals)
(other parent sections: Cute animals)

h3 Cat (parent section: Mammals)

\h[2][Cute animals]

\l[\xref[dog]]
\l[\xref[cat]]
</code></pre></div>

so note how "Dog" has a list of extra parents including "Cute animals", but Cat does not, due to the <code>child=1</code>.</div><div class="p" id="p-44"><span class="hide-hover"> <a href="#p-44">ğŸ”—</a></span>This property does not affect how the <a href="#table-of-contents"><code>\toc</code></a> is rendered. We could insert elements sections there multiple times, but it has the downside that browser Ctrl + F searches would hit the same thing multiple times on the table of contents, which might make finding things harder.
<div><span class="hide-hover"> <a href="#c-23">ğŸ”—</a></span><pre id="c-23"><code>\h[2][My title]{id=my-id}

Read this \x[my-id][amazing section].
</code></pre></div>
</div><div class="p" id="p-45"><span class="hide-hover"> <a href="#p-45">ğŸ”—</a></span>If the second argument, the <code>content</code>, is not present, it expand to the header title, e.g.:
<div><span class="hide-hover"> <a href="#c-24">ğŸ”—</a></span><pre id="c-24"><code>\h[2][My title]{id=my-id}

Read this \x[my-id].
</code></pre></div>

is the same as:
<div><span class="hide-hover"> <a href="#c-25">ğŸ”—</a></span><pre id="c-25"><code>\h[2][My title]{id=my-id}

Read this \x[my-id][My title].
</code></pre></div>
</div><h3 id="cross-reference-style"><a href="#cross-reference-style" title="link to this element">5.2. Cross reference style</a><span>  | <a href="#toc-cross-reference-style">â‡‘ toc</a> | <a href="#internal-cross-references">â†‘ parent "Internal cross references <code>\x</code>"</a></span></h3>
<div class="p" id="p-46"><span class="hide-hover"> <a href="#p-46">ğŸ”—</a></span>To also show the section auto-generated number as in "Section X.Y My title" we add the optional <code>{style=full}</code> <a href="#positional-vs-named-arguments">named parameter</a> to the cross reference, for example:
<div><span class="hide-hover"> <a href="#c-26">ğŸ”—</a></span><pre id="c-26"><code>\x[cross-reference-style]{style=full}.
</code></pre></div>
<div class="p" id="p-306"><span class="hide-hover"> <a href="#p-306">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-7">ğŸ”—</a></span><blockquote id="q-7"><div class="p" id="p-361"><span class="hide-hover"> <a href="#p-361">ğŸ”—</a></span><a href="#cross-reference-style">Section 5.2. "Cross reference style"</a>.</div></blockquote></div></div><h3 id="internal-cross-file-references"><a href="#internal-cross-file-references" title="link to this element">5.3. Internal cross file references</a><span>  | <a href="#toc-internal-cross-file-references">â‡‘ toc</a> | <a href="#internal-cross-references">â†‘ parent "Internal cross references <code>\x</code>"</a></span></h3>
<div class="p" id="p-47"><span class="hide-hover"> <a href="#p-47">ğŸ”—</a></span>Reference to the first header of another file:
<div><span class="hide-hover"> <a href="#c-27">ğŸ”—</a></span><pre id="c-27"><code>\x[not-readme]
</code></pre></div>
<div class="p" id="p-307"><span class="hide-hover"> <a href="#p-307">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-8">ğŸ”—</a></span><blockquote id="q-8"><div class="p" id="p-362"><span class="hide-hover"> <a href="#p-362">ğŸ”—</a></span><a href="not-readme#not-readme">Not the README</a></div></blockquote></div></div><div class="p" id="p-48"><span class="hide-hover"> <a href="#p-48">ğŸ”—</a></span>Reference to the first header of another file that is a second inclusion:
<div><span class="hide-hover"> <a href="#c-28">ğŸ”—</a></span><pre id="c-28"><code>\x[included-by-not-readme]
</code></pre></div>
<div class="p" id="p-308"><span class="hide-hover"> <a href="#p-308">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-9">ğŸ”—</a></span><blockquote id="q-9"><div class="p" id="p-363"><span class="hide-hover"> <a href="#p-363">ğŸ”—</a></span><a href="included-by-not-readme#included-by-not-readme">Included by not the README</a></div></blockquote></div></div><div class="p" id="p-49"><span class="hide-hover"> <a href="#p-49">ğŸ”—</a></span>Reference to another header of another file, with <a href="#cross-reference-style">Cross reference style</a> equals <code>full</code>:
<div><span class="hide-hover"> <a href="#c-29">ğŸ”—</a></span><pre id="c-29"><code>\x[h2-in-not-the-readme]{style=full}.
</code></pre></div>
<div class="p" id="p-309"><span class="hide-hover"> <a href="#p-309">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-10">ğŸ”—</a></span><blockquote id="q-10"><div class="p" id="p-364"><span class="hide-hover"> <a href="#p-364">ğŸ”—</a></span><a href="not-readme#h2-in-not-the-readme">Section "h2 in not the README"</a>.</div></blockquote></div></div><div class="p" id="p-50"><span class="hide-hover"> <a href="#p-50">ğŸ”—</a></span>Reference to an image in another file:
<div><span class="hide-hover"> <a href="#c-30">ğŸ”—</a></span><pre id="c-30"><code>\x[fig-not-readme-xi]{style=full}.
</code></pre></div>
<div class="p" id="p-310"><span class="hide-hover"> <a href="#p-310">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-11">ğŸ”—</a></span><blockquote id="q-11"><div class="p" id="p-365"><span class="hide-hover"> <a href="#p-365">ğŸ”—</a></span><a href="not-readme#fig-not-readme-xi">Figure "Figure in not the README"</a>.</div></blockquote></div></div><div class="p" id="p-51"><span class="hide-hover"> <a href="#p-51">ğŸ”—</a></span>Reference to an image in another file:
<div><span class="hide-hover"> <a href="#c-31">ğŸ”—</a></span><pre id="c-31"><code>\x[fig-figure-in-not-the-readme-without-explicit-id]{style=full}.
</code></pre></div>
<div class="p" id="p-311"><span class="hide-hover"> <a href="#p-311">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-12">ğŸ”—</a></span><blockquote id="q-12"><div class="p" id="p-366"><span class="hide-hover"> <a href="#p-366">ğŸ”—</a></span><a href="not-readme#fig-figure-in-not-the-readme-without-explicit-id">Figure "Figure in not the README without explicit id"</a>.</div></blockquote></div></div><div class="p" id="p-52"><span class="hide-hover"> <a href="#p-52">ğŸ”—</a></span>Remember that the <a href="#the-toplevel-header">ID of the toplevel header</a> is automatically derived from its file name, that's why we have to use:
<div><span class="hide-hover"> <a href="#c-32">ğŸ”—</a></span><pre id="c-32"><code>\x[not-readme]
</code></pre></div>
<div class="p" id="p-312"><span class="hide-hover"> <a href="#p-312">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-13">ğŸ”—</a></span><blockquote id="q-13"><div class="p" id="p-367"><span class="hide-hover"> <a href="#p-367">ğŸ”—</a></span><a href="not-readme#not-readme">Not the README</a></div></blockquote></div>
instead of:
<div><span class="hide-hover"> <a href="#c-33">ğŸ”—</a></span><pre id="c-33"><code>\x[not-the-readme]
</code></pre></div>
</div><div class="p" id="p-53"><span class="hide-hover"> <a href="#p-53">ğŸ”—</a></span>Reference to an internal header of another file: <a href="not-readme#h2-in-not-the-readme">h2 in not the README</a>. By default, That header ID gets prefixed by the ID of the top header.</div><div class="p" id="p-54"><span class="hide-hover"> <a href="#p-54">ğŸ”—</a></span>When using <a href="#html-single-page"><code>--html-single-page</code></a> mode, the cross file references end up pointing to an ID inside the current HTML element, e.g.:
<div><span class="hide-hover"> <a href="#c-34">ğŸ”—</a></span><pre id="c-34"><code>&lt;a href="#not-readme"&gt;
</code></pre></div>

rather than:
<div><span class="hide-hover"> <a href="#c-35">ğŸ”—</a></span><pre id="c-35"><code>&lt;a href="not-readme.html/#not-readme"&gt;
</code></pre></div>

This is why IDs must be unique for elements across all pages.</div><h4 id="internal-cross-file-references-internals"><a href="#internal-cross-file-references-internals" title="link to this element">5.3.1. Internal cross file references internals</a><span>  | <a href="#toc-internal-cross-file-references-internals">â‡‘ toc</a> | <a href="#internal-cross-file-references">â†‘ parent "Internal cross file references"</a></span></h4>
<div class="p" id="p-55"><span class="hide-hover"> <a href="#p-55">ğŸ”—</a></span>When running in Node.js, Cirodown dumps the IDs of all processed files to a <code>out/ids.sqlite3</code> file, and then reads from that file when IDs are needed.</div><div class="p" id="p-56"><span class="hide-hover"> <a href="#p-56">ğŸ”—</a></span>When converting a directory, <code>out/ids.sqlite3</code> is placed inside the input directory. When converting individual files, <code>out/ids.sqlite3</code> is placed in the current working directory. The file is not created or used when handling input from stdin.</div><div class="p" id="p-57"><span class="hide-hover"> <a href="#p-57">ğŸ”—</a></span>When running in the browser, the same JavaScript API will send queries to the server instead of a local SQLite database.</div><div class="p" id="p-58"><span class="hide-hover"> <a href="#p-58">ğŸ”—</a></span>To inspect the the ID database to debug it, you can use:
<div><span class="hide-hover"> <a href="#c-36">ğŸ”—</a></span><pre id="c-36"><code>sqlite3 out/db.sqlite3 .dump
</code></pre></div>
</div><h3 id="automatic-id-from-title"><a href="#automatic-id-from-title" title="link to this element">5.4. Automatic ID from title</a><span>  | <a href="#toc-automatic-id-from-title">â‡‘ toc</a> | <a href="#internal-cross-references">â†‘ parent "Internal cross references <code>\x</code>"</a></span></h3>
<div class="p" id="p-59"><span class="hide-hover"> <a href="#p-59">ğŸ”—</a></span>If a <a href="#the-toplevel-header">non-toplevel</a> macro has the <code>title</code> property is present but no explicit <code>id</code>, an ID is created automatically from the <code>title</code>, by applying the following transformations:</div><div><ul id="ul-1">
<div><li id="l-1">convert all of <code>A-Z</code> characters to lowercase</li></div><div><li id="l-2">convert consecutive sequences of all non <code>a-z0-9</code> ASCII characters to a single hyphen <code>-</code>. Note that this leaves non-ASCII character untouched.</li></div><div><li id="l-3">strip leading or trailing hyphens</li></div></ul></div><div class="p" id="p-60"><span class="hide-hover"> <a href="#p-60">ğŸ”—</a></span>Note how those rules leave non ASCII Unicode characters untouched, as capitalization and determining if something "is a letter or not" in those cases can be tricky.</div><div class="p" id="p-61"><span class="hide-hover"> <a href="#p-61">ğŸ”—</a></span>So for example, the following automatic IDs would be generated: <a href="#table-examples-of-automatically-generated-ids">Table 1. "Examples of automatically generated IDs"</a>.</div><div class="table-container" id="table-examples-of-automatically-generated-ids"><span class="hide-hover"> <a href="#table-examples-of-automatically-generated-ids">ğŸ”—</a></span>
<div class="table-caption-container">
<span class="table-caption"><span class="caption-prefix">Table 1</span>. Examples of automatically generated IDs</span><span> <a href="#table-examples-of-automatically-generated-ids">(ğŸ”— link)</a></span>
</div>
<table>
<div><tr id="tr-1">
<div><th id="th-1">title</th></div><div><th id="th-2">id</th></div><div><th id="th-3">comments</th></div></tr></div><div><tr id="tr-2">
<div><td id="td-1">My favorite title</td></div><div><td id="td-2">my-favorite-title</td></div><div><td id="td-3"></td></div></tr></div><div><tr id="tr-3">
<div><td id="td-4">Ciro's markdown is awesome</td></div><div><td id="td-5">ciro-s-markdown-is-awesome</td></div><div><td id="td-6"></td></div></tr></div><div><tr id="tr-4">
<div><td id="td-7">The Ã‰cole Polytechnique</td></div><div><td id="td-8">the-Ã‰cole-polytechnique</td></div><div><td id="td-9">We leave the non ASCII uppercase <a href="https://en.wikipedia.org/wiki/Acute_accent">acute accented</a> <code>e</code>, <code>Ã‰</code>, untouched by default</td></div></tr></div></table>
</div>
<div class="p" id="p-62"><span class="hide-hover"> <a href="#p-62">ğŸ”—</a></span>For <a href="#the-toplevel-header">the toplevel header</a>, its ID is derived from the basename of the Cirodown file without extension instead of from the <code>title</code> argument.</div><h2 id="headers"><a href="#headers" title="link to this element">6. Headers <code>\h</code></a><span>  | <a href="#toc-headers">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<h3 id="unlimited-header-levels"><a href="#unlimited-header-levels" title="link to this element">6.1. Unlimited header levels</a><span>  | <a href="#toc-unlimited-header-levels">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code>\h</code>"</a></span></h3>
<div class="p" id="p-63"><span class="hide-hover"> <a href="#p-63">ğŸ”—</a></span>There is no limit to how many levels we can have!</div><div class="p" id="p-64"><span class="hide-hover"> <a href="#p-64">ğŸ”—</a></span>HTML is randomly limited to <code>h6</code>, so Cirodown just renders higher levels as an <code>h6</code> with a <code>data-level</code> attribute to indicate the actual level for possible CSS styling:
<div><span class="hide-hover"> <a href="#c-37">ğŸ”—</a></span><pre id="c-37"><code>&lt;h6 data-level="7"&gt;My title&lt;/h6&gt;
</code></pre></div>
</div><h4 id="my-h4"><a href="#my-h4" title="link to this element">6.1.1. My h4</a><span>  | <a href="#toc-my-h4">â‡‘ toc</a> | <a href="#unlimited-header-levels">â†‘ parent "Unlimited header levels"</a></span></h4>
<h5 id="my-h5"><a href="#my-h5" title="link to this element">6.1.1.1. My h5</a><span>  | <a href="#toc-my-h5">â‡‘ toc</a> | <a href="#my-h4">â†‘ parent "My h4"</a></span></h5>
<h6 id="my-h6"><a href="#my-h6" title="link to this element">6.1.1.1.1. My h6</a><span>  | <a href="#toc-my-h6">â‡‘ toc</a> | <a href="#my-h5">â†‘ parent "My h5"</a></span></h6>
<h6 data-level="7" id="my-h7"><a href="#my-h7" title="link to this element">6.1.1.1.1.1. My h7</a><span>  | <a href="#toc-my-h7">â‡‘ toc</a> | <a href="#my-h6">â†‘ parent "My h6"</a></span></h6>
<h6 data-level="8" id="my-h8"><a href="#my-h8" title="link to this element">6.1.1.1.1.1.1. My h8</a><span>  | <a href="#toc-my-h8">â‡‘ toc</a> | <a href="#my-h7">â†‘ parent "My h7"</a></span></h6>
<h6 data-level="9" id="my-h9"><a href="#my-h9" title="link to this element">6.1.1.1.1.1.1.1. My h9</a><span>  | <a href="#toc-my-h9">â‡‘ toc</a> | <a href="#my-h8">â†‘ parent "My h8"</a></span></h6>
<h6 data-level="10" id="my-h10"><a href="#my-h10" title="link to this element">6.1.1.1.1.1.1.1.1. My h10</a><span>  | <a href="#toc-my-h10">â‡‘ toc</a> | <a href="#my-h9">â†‘ parent "My h9"</a></span></h6>
<h6 data-level="11" id="my-h11"><a href="#my-h11" title="link to this element">6.1.1.1.1.1.1.1.1.1. My h11</a><span>  | <a href="#toc-my-h11">â‡‘ toc</a> | <a href="#my-h10">â†‘ parent "My h10"</a></span></h6>
<h6 data-level="12" id="my-h12"><a href="#my-h12" title="link to this element">6.1.1.1.1.1.1.1.1.1.1. My h12</a><span>  | <a href="#toc-my-h12">â‡‘ toc</a> | <a href="#my-h11">â†‘ parent "My h11"</a></span></h6>
<h6 data-level="13" id="my-h13"><a href="#my-h13" title="link to this element">6.1.1.1.1.1.1.1.1.1.1.1. My h13</a><span>  | <a href="#toc-my-h13">â‡‘ toc</a> | <a href="#my-h12">â†‘ parent "My h12"</a></span></h6>
<h3 id="table-of-contents"><a href="#table-of-contents" title="link to this element">6.2. Table of contents <code>\toc</code></a><span>  | <a href="#toc-table-of-contents">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code>\h</code>"</a></span></h3>
<div class="p" id="p-65"><span class="hide-hover"> <a href="#p-65">ğŸ”—</a></span>Only one ToC shows per document.</div><div class="p" id="p-66"><span class="hide-hover"> <a href="#p-66">ğŸ”—</a></span>Any ToC besides the first one is ignored. TODO make it into an error instead?</div><div class="p" id="p-67"><span class="hide-hover"> <a href="#p-67">ğŸ”—</a></span>The ToC ignores <code>\h[1]</code> by default, as we encourage that header level to appear only once and represent the main title under which the entire document goes.</div><div class="p" id="p-68"><span class="hide-hover"> <a href="#p-68">ğŸ”—</a></span><code>\toc</code> from <a href="#includes">includes</a> are ignored.</div><h4 id="id-scope"><a href="#id-scope" title="link to this element">6.2.1. id_scope</a><span>  | <a href="#toc-id-scope">â‡‘ toc</a> | <a href="#table-of-contents">â†‘ parent "Table of contents <code>\toc</code>"</a></span></h4>
<div class="p" id="p-69"><span class="hide-hover"> <a href="#p-69">ğŸ”—</a></span>TODO implement.</div><div class="p" id="p-70"><span class="hide-hover"> <a href="#p-70">ğŸ”—</a></span>If this header attribute is <code>true</code>, then the ID of all children are prefixed with the ID of this header + a slash <code>/</code>.</div><div class="p" id="p-71"><span class="hide-hover"> <a href="#p-71">ğŸ”—</a></span>This property is true by default for cross file references, although it can be turned off explicitly with <code>id-scope=false</code>.</div><div class="p" id="p-72"><span class="hide-hover"> <a href="#p-72">ğŸ”—</a></span>References withing a single scope do not need the parent scope prefix.</div><h3 id="header-explicit-levels-vs-nesting-design-choice"><a href="#header-explicit-levels-vs-nesting-design-choice" title="link to this element">6.3. Header explicit levels vs nesting design choice</a><span>  | <a href="#toc-header-explicit-levels-vs-nesting-design-choice">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code>\h</code>"</a></span></h3>
<div class="p" id="p-73"><span class="hide-hover"> <a href="#p-73">ğŸ”—</a></span>Arguably, the language would be even saner if we did:
<div><span class="hide-hover"> <a href="#c-38">ğŸ”—</a></span><pre id="c-38"><code>\h[My h1][

Paragraph.

\h[My h2][]
]
</code></pre></div>

rather than having explicit levels.</div><div class="p" id="p-74"><span class="hide-hover"> <a href="#p-74">ğŸ”—</a></span>But we chose not to do it like most markups available because it leads to too many nesting levels, and hard to determine where you are without tooling.</div><h3 id="includes"><a href="#includes" title="link to this element">6.4. Includes <code>\include</code></a><span>  | <a href="#toc-includes">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code>\h</code>"</a></span></h3>
<div class="p" id="p-75"><span class="hide-hover"> <a href="#p-75">ğŸ”—</a></span>The <code>\include</code> macro allows including an external Cirodown headers under the current header.</div><div class="p" id="p-76"><span class="hide-hover"> <a href="#p-76">ğŸ”—</a></span>It exists to allow optional single page HTML output while still retaining the ability to:</div><div><ul id="ul-2">
<div><li id="l-4">split up large input files into multiple files to make renders faster during document development</li></div><div><li id="l-5">suggest an optional custom output split with one HTML output per Cirodown input, in order to avoid extremely large HTML pages which could be slow to load</li></div></ul></div><div class="p" id="p-77"><span class="hide-hover"> <a href="#p-77">ğŸ”—</a></span><code>\include</code> takes one mandatory argument, which is the relative path without extension to the <code>.ciro</code> file that you want to include.</div><div class="p" id="p-78"><span class="hide-hover"> <a href="#p-78">ğŸ”—</a></span>Things would have been a bit more clean if the argument would take the ID of the header you want to include rather than the filename, which is analogous to how <a href="#internal-cross-references"><code>\x</code></a> works, but that would mean that a single page build would require an initial parse to determine IDs, so we are just going with the easier option of pointing out the file name directly.</div><div class="p" id="p-79"><span class="hide-hover"> <a href="#p-79">ğŸ”—</a></span>Headers of the included document are automatically shifted to match the level of the child of the level where they are being included.</div><div class="p" id="p-80"><span class="hide-hover"> <a href="#p-80">ğŸ”—</a></span>If <a href="#html-single-page"><code>--html-single-page</code></a> is given, the external document is rendered embedded into the current document directly, essentially as if the source had been copy pasted (except for small corrections such as the header offsets).</div><div class="p" id="p-81"><span class="hide-hover"> <a href="#p-81">ğŸ”—</a></span>Otherwise, the following effects happen:</div><div><ul id="ul-3">
<div><li id="l-6"><div class="p" id="p-368"><span class="hide-hover"> <a href="#p-368">ğŸ”—</a></span>  The headers of the included tree appear in the <a href="#table-of-contents">table of contents</a> of the document as links to the corresponding external files.</div><div class="p" id="p-369"><span class="hide-hover"> <a href="#p-369">ğŸ”—</a></span>  This is implemented simply by reading a previously generated database file much like <a href="#internal-cross-file-references-internals">Internal cross file references internals</a>, which avoids the slowdown of parsing all included files every time.</div><div class="p" id="p-370"><span class="hide-hover"> <a href="#p-370">ğŸ”—</a></span>  As a result, you have to do an initial parse of all files in the project to extract their headers however, just as you would need to do when linking to those headers.
</div></li></div><div><li id="l-7">the include itself renders as a link to the included document</li></div></ul></div><div><ul id="ul-4">
<div><li id="l-8"><a href="#html-single-page"><code>--html-single-page</code></a></li></div></ul></div><div class="p" id="p-82"><span class="hide-hover"> <a href="#p-82">ğŸ”—</a></span>Here is an example of inclusion of the files <code>not-readme.ciro</code> and <code>not-readme-2.ciro</code>.</div><h4 id="not-readme"><a href="#not-readme" title="link to this element">6.4.1. Not the README</a><span>  | <a href="#toc-not-readme">â‡‘ toc</a> | <a href="#includes">â†‘ parent "Includes <code>\include</code>"</a> | <a href="includes-not-readme#includes-not-readme-h2">â†‘ parent "Includes not README h2"</a></span></h4>
<div class="p" id="p-83"><span class="hide-hover"> <a href="#p-83">ğŸ”—</a></span><a href="not-readme#not-readme">This section is present in another page, follow this link to view it.</a></div><h4 id="not-readme-2"><a href="#not-readme-2" title="link to this element">6.4.2. Not the README 2</a><span>  | <a href="#toc-not-readme-2">â‡‘ toc</a> | <a href="#includes">â†‘ parent "Includes <code>\include</code>"</a> | <a href="includes-not-readme#includes-not-readme-h2">â†‘ parent "Includes not README h2"</a></span></h4>
<div class="p" id="p-84"><span class="hide-hover"> <a href="#p-84">ğŸ”—</a></span><a href="not-readme-2#not-readme-2">This section is present in another page, follow this link to view it.</a></div><h3 id="skipping-header-levels"><a href="#skipping-header-levels" title="link to this element">6.5. Skipping header levels</a><span>  | <a href="#toc-skipping-header-levels">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code>\h</code>"</a></span></h3>
<div class="p" id="p-85"><span class="hide-hover"> <a href="#p-85">ğŸ”—</a></span>The very first header of a document can be of any level, although we highly recommend your document to start with a <code>\h[1]</code>, and to contain exactly just one <code>\h[1]</code>, as this has implications such as:</div><div><ul id="ul-5">
<div><li id="l-9"><code>\h[1]</code> is used for the document title: <a href="#html-document-title">HTML document title</a></li></div><div><li id="l-10"><code>\h[1]</code> does not show on the <a href="#table-of-contents">Table of contents <code>\toc</code></a></li></div></ul></div><div class="p" id="p-86"><span class="hide-hover"> <a href="#p-86">ğŸ”—</a></span>After the initial header however, you must not skip a header level, e.g. the following would give an error because it skips level 3:
<div><span class="hide-hover"> <a href="#c-39">ğŸ”—</a></span><pre id="c-39"><code>\h[1][my 1]

\h[2][my 1]

\h[4][my 4]
</code></pre></div>
</div><h3 id="the-toplevel-header"><a href="#the-toplevel-header" title="link to this element">6.6. The toplevel header</a><span>  | <a href="#toc-the-toplevel-header">â‡‘ toc</a> | <a href="#headers">â†‘ parent "Headers <code>\h</code>"</a></span></h3>
<div class="p" id="p-87"><span class="hide-hover"> <a href="#p-87">ğŸ”—</a></span>If the document has only a single header of the highest level, e.g. like the following has only a single <code>h2</code>:
<div><span class="hide-hover"> <a href="#c-40">ğŸ”—</a></span><pre id="c-40"><code>\h[2][My 2]

\h[3][My 3 1]

\h[3][My 3 2]
</code></pre></div>

then this has some magical effects.</div><h4 id="the-toplevel-header-ids-don-t-show"><a href="#the-toplevel-header-ids-don-t-show" title="link to this element">6.6.1. The toplevel header IDs don't show</a><span>  | <a href="#toc-the-toplevel-header-ids-don-t-show">â‡‘ toc</a> | <a href="#the-toplevel-header">â†‘ parent "The toplevel header"</a></span></h4>
<div class="p" id="p-88"><span class="hide-hover"> <a href="#p-88">ğŸ”—</a></span>Header IDs won't show for the toplevel level. For example, the headers would render like:
<div><span class="hide-hover"> <a href="#c-41">ğŸ”—</a></span><pre id="c-41"><code>My 2

1. My 3 1

2. My 3 2
</code></pre></div>

rather than:
<div><span class="hide-hover"> <a href="#c-42">ğŸ”—</a></span><pre id="c-42"><code>1. My 2

1.2. My 3 1

1.2. My 3 2
</code></pre></div>

This is because in this case, we guess that the <code>h2</code> is the toplevel.</div><h4 id="the-id-of-the-first-header-is-derived-from-the-filename"><a href="#the-id-of-the-first-header-is-derived-from-the-filename" title="link to this element">6.6.2. The ID of the first header is derived from the filename</a><span>  | <a href="#toc-the-id-of-the-first-header-is-derived-from-the-filename">â‡‘ toc</a> | <a href="#the-toplevel-header">â†‘ parent "The toplevel header"</a></span></h4>
<div class="p" id="p-89"><span class="hide-hover"> <a href="#p-89">ğŸ”—</a></span>TODO: we kind of wanted this to be the ID of the toplevel header instead of the first header, but this would require an extra postprocessing pass (to determine if the first header is toplevel or not), which might affect performance, so we are not doing it right now.</div><div class="p" id="p-90"><span class="hide-hover"> <a href="#p-90">ğŸ”—</a></span>When the Cirodown input comes from a file (and not e.g. stdin), the default ID of the first header in the document is derived from the basename of the Cirodown input source file rather than from its title.</div><div class="p" id="p-91"><span class="hide-hover"> <a href="#p-91">ğŸ”—</a></span>This is specially relevant when <a href="#includes">including</a> other files.</div><div class="p" id="p-92"><span class="hide-hover"> <a href="#p-92">ğŸ”—</a></span>For example, in file named <code>my-file.ciro</code> which contains:
<div><span class="hide-hover"> <a href="#c-43">ğŸ”—</a></span><pre id="c-43"><code>\h[1][Awesome cirodown file]
]]
</code></pre></div>

the ID of the header is <code>my-file</code> rather than <code>awesome-cirodown-file</code>. See also: <a href="#automatic-id-from-title">Automatic ID from title</a>.</div><div class="p" id="p-93"><span class="hide-hover"> <a href="#p-93">ğŸ”—</a></span>If the file is an <a href="#index-files">index file</a>, then the basename of the parent directory is used instead, e.g. the toplevel ID of a file:
<div><span class="hide-hover"> <a href="#c-44">ğŸ”—</a></span><pre id="c-44"><code>my-subdir/README.ciro</code></pre></div>

would be:
<div><span class="hide-hover"> <a href="#c-45">ğŸ”—</a></span><pre id="c-45"><code>#my-subdir</code></pre></div>

rather than:
<div><span class="hide-hover"> <a href="#c-46">ğŸ”—</a></span><pre id="c-46"><code>#README.ciro</code></pre></div>
</div><h2 id="lists"><a href="#lists" title="link to this element">7. Lists <code>\l</code></a><span>  | <a href="#toc-lists">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-94"><span class="hide-hover"> <a href="#p-94">ğŸ”—</a></span>With <a href="#auto-parent">implicit container</a>:
<div><span class="hide-hover"> <a href="#c-47">ğŸ”—</a></span><pre id="c-47"><code>\l[a]
\l[b]
\l[c]
</code></pre></div>
<div class="p" id="p-313"><span class="hide-hover"> <a href="#p-313">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-14">ğŸ”—</a></span><blockquote id="q-14"><div><ul id="ul-47">
<div><li id="l-130">a</li></div><div><li id="l-131">b</li></div><div><li id="l-132">c</li></div></ul></div></blockquote></div></div><div class="p" id="p-95"><span class="hide-hover"> <a href="#p-95">ğŸ”—</a></span>Equivalent with explicit container:
<div><span class="hide-hover"> <a href="#c-48">ğŸ”—</a></span><pre id="c-48"><code>\ul[
\l[a]
\l[b]
\l[c]
]
</code></pre></div>
<div class="p" id="p-314"><span class="hide-hover"> <a href="#p-314">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-15">ğŸ”—</a></span><blockquote id="q-15"><div><ul id="ul-48">
<div><li id="l-133">a</li></div><div><li id="l-134">b</li></div><div><li id="l-135">c</li></div></ul></div></blockquote></div></div><div class="p" id="p-96"><span class="hide-hover"> <a href="#p-96">ğŸ”—</a></span>The explicit container is required if you want to add properties to the list, e.g. a title and an ID: <a href="#list-my-id">Ul 49</a>:
<div><span class="hide-hover"> <a href="#c-49">ğŸ”—</a></span><pre id="c-49"><code>\ul
{id=list-my-id}
[
\l[a]
\l[b]
\l[c]
]
</code></pre></div>
<div class="p" id="p-315"><span class="hide-hover"> <a href="#p-315">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-16">ğŸ”—</a></span><blockquote id="q-16"><div><ul id="list-my-id">
<div><li id="l-136">a</li></div><div><li id="l-137">b</li></div><div><li id="l-138">c</li></div></ul></div></blockquote></div></div><div class="p" id="p-97"><span class="hide-hover"> <a href="#p-97">ğŸ”—</a></span>It is also required if you want ordered lists:
<div><span class="hide-hover"> <a href="#c-50">ğŸ”—</a></span><pre id="c-50"><code>\ol[
\l[first]
\l[second]
\l[third]
]
</code></pre></div>
<div class="p" id="p-316"><span class="hide-hover"> <a href="#p-316">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-17">ğŸ”—</a></span><blockquote id="q-17"><div><ol id="ol-1">
<div><li id="l-139">first</li></div><div><li id="l-140">second</li></div><div><li id="l-141">third</li></div></ol></div></blockquote></div></div><div class="p" id="p-98"><span class="hide-hover"> <a href="#p-98">ğŸ”—</a></span>Nested lists with implicit containers:
<div><span class="hide-hover"> <a href="#c-51">ğŸ”—</a></span><pre id="c-51"><code>\l[
  a

  \l[a1]
  \l[a2]
  \l[a2]
]
\l[b]
\l[c]
</code></pre></div>
<div class="p" id="p-317"><span class="hide-hover"> <a href="#p-317">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-18">ğŸ”—</a></span><blockquote id="q-18"><div><ul id="ul-50">
<div><li id="l-142"><div class="p" id="p-437"><span class="hide-hover"> <a href="#p-437">ğŸ”—</a></span>  a</div><div class="p" id="p-438"><span class="hide-hover"> <a href="#p-438">ğŸ”—</a></span>  <div><ul id="ul-58">
<div><li id="l-174">a1</li></div><div><li id="l-175">a2</li></div><div><li id="l-176">a2</li></div></ul></div></div></li></div><div><li id="l-143">b</li></div><div><li id="l-144">c</li></div></ul></div></blockquote></div></div><div class="p" id="p-99"><span class="hide-hover"> <a href="#p-99">ğŸ”—</a></span>List item with a paragraph inside of it:
<div><span class="hide-hover"> <a href="#c-52">ğŸ”—</a></span><pre id="c-52"><code>\l[a]
\l[
  I have

  Multiple paragraphs.

  \l[And]
  \l[also]
  \l[a]
  \l[list]
]
\l[c]
</code></pre></div>
<div class="p" id="p-318"><span class="hide-hover"> <a href="#p-318">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-19">ğŸ”—</a></span><blockquote id="q-19"><div><ul id="ul-51">
<div><li id="l-145">a</li></div><div><li id="l-146"><div class="p" id="p-439"><span class="hide-hover"> <a href="#p-439">ğŸ”—</a></span>  I have</div><div class="p" id="p-440"><span class="hide-hover"> <a href="#p-440">ğŸ”—</a></span>  Multiple paragraphs.</div><div class="p" id="p-441"><span class="hide-hover"> <a href="#p-441">ğŸ”—</a></span>  <div><ul id="ul-59">
<div><li id="l-177">And</li></div><div><li id="l-178">also</li></div><div><li id="l-179">a</li></div><div><li id="l-180">list</li></div></ul></div></div></li></div><div><li id="l-147">c</li></div></ul></div></blockquote></div></div><h2 id="images"><a href="#images" title="link to this element">8. Images <code>\image</code></a><span>  | <a href="#toc-images">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-100"><span class="hide-hover"> <a href="#p-100">ğŸ”—</a></span>A block image with <a href="#macro-capitalization-for-block-vs-inline">capital</a> 'i' <code>Image</code> can be seen at <a href="#fig-my-xi-chrysanthemum">Figure 1. "Xi Chrysanthemum is a very nice image"</a>.</div><div class="p" id="p-101"><span class="hide-hover"> <a href="#p-101">ğŸ”—</a></span><div><span class="hide-hover"> <a href="#c-53">ğŸ”—</a></span><pre id="c-53"><code>\Image[https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg]
{title=Xi Chrysanthemum is a very nice image}
{id=fig-my-xi-chrysanthemum}
{source=https://commons.wikimedia.org/wiki/File:Lotus_flower_(978659).jpg}
{description=
  We can have multiple paragraphs here, just for any other parameter argument.

  I'm not even kidding.
}
</code></pre></div>
<div class="p" id="p-319"><span class="hide-hover"> <a href="#p-319">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-20">ğŸ”—</a></span><blockquote id="q-20"><figure id="fig-my-xi-chrysanthemum">
<a href="#fig-my-xi-chrysanthemum"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg"></a>
<figcaption><span class="caption-prefix">Figure 1</span>. Xi Chrysanthemum is a very nice image</figcaption>
</figure>
</blockquote></div></div><div class="p" id="p-102"><span class="hide-hover"> <a href="#p-102">ğŸ”—</a></span>Here is one without a description but with an ID so we can link to it: <a href="#fig-my-xi-chrysanthemum-2">Figure 2</a>.</div><div class="p" id="p-103"><span class="hide-hover"> <a href="#p-103">ğŸ”—</a></span><div><span class="hide-hover"> <a href="#c-54">ğŸ”—</a></span><pre id="c-54"><code>\Image[https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg]
{id=fig-my-xi-chrysanthemum-2}
</code></pre></div>
<div class="p" id="p-320"><span class="hide-hover"> <a href="#p-320">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-21">ğŸ”—</a></span><blockquote id="q-21"><figure id="fig-my-xi-chrysanthemum-2">
<a href="#fig-my-xi-chrysanthemum-2"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg"></a>
<figcaption><span class="caption-prefix">Figure 2</span></figcaption>
</figure>
</blockquote></div></div><div class="p" id="p-104"><span class="hide-hover"> <a href="#p-104">ğŸ”—</a></span>We must use <a href="#cross-reference-style"><code>style=full</code></a> here because otherwise the link text would be empty and not show at all.</div><div class="p" id="p-105"><span class="hide-hover"> <a href="#p-105">ğŸ”—</a></span>If the image has neither ID nor title, then it just gets a generic caption, and it is not possible to link to it with an <a href="#internal-cross-references">internal cross reference</a>, e.g.:
<div><span class="hide-hover"> <a href="#c-55">ğŸ”—</a></span><pre id="c-55"><code>\Image[https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg]
</code></pre></div>
<div class="p" id="p-321"><span class="hide-hover"> <a href="#p-321">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-22">ğŸ”—</a></span><blockquote id="q-22"><figure id="fig-3">
<a href="#fig-3"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg"></a>
<figcaption><span class="caption-prefix">Figure 3</span></figcaption>
</figure>
</blockquote></div>
The image does however get an automatically generated ID based on its image number so that readers can link to it on the rendered version, e.g. as:
<div><span class="hide-hover"> <a href="#c-56">ğŸ”—</a></span><pre id="c-56"><code>#fig-123
</code></pre></div>

This link is of course not stable across document revisions, since if an image is added before that one, the link will break. This kind of image is discouraged, because in paged output formats like PDF, it could float away from the text that refers to the image.</div><div class="p" id="p-106"><span class="hide-hover"> <a href="#p-106">ğŸ”—</a></span>And this is how you make an inline image inline one with lower case <code>i</code>:
<div><span class="hide-hover"> <a href="#c-57">ğŸ”—</a></span><pre id="c-57"><code>My inline \image[https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg][Xi Chrysanthemum] is awesome.
</code></pre></div>
<div class="p" id="p-322"><span class="hide-hover"> <a href="#p-322">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-23">ğŸ”—</a></span><blockquote id="q-23"><div class="p" id="p-371"><span class="hide-hover"> <a href="#p-371">ğŸ”—</a></span>My inline <img id="image-1" src="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg" alt="Xi Chrysanthemum"> is awesome.</div></blockquote></div>
Inline images can't have captions.</div><h3 id="where-to-store-images"><a href="#where-to-store-images" title="link to this element">8.1. Where to store images</a><span>  | <a href="#toc-where-to-store-images">â‡‘ toc</a> | <a href="#images">â†‘ parent "Images <code>\image</code>"</a></span></h3>
<div class="p" id="p-107"><span class="hide-hover"> <a href="#p-107">ğŸ”—</a></span>If you are making a limited repository that will not have a ton of images, then you can get away with simply git tracking your images in the main repository.</div><div class="p" id="p-108"><span class="hide-hover"> <a href="#p-108">ğŸ”—</a></span>With this setup, no further action is needed. For example, with a file structure of:
<div><span class="hide-hover"> <a href="#c-58">ğŸ”—</a></span><pre id="c-58"><code>./README.ciro
./Image_with_a_descriptive_title.jpeg
</code></pre></div>

just use the image from <div><span class="hide-hover"> <a href="#c-59">ğŸ”—</a></span><pre id="c-59"><code>README.ciro</code></pre></div>
 as:
<div><span class="hide-hover"> <a href="#c-60">ğŸ”—</a></span><pre id="c-60"><code>Here is a nice image:

\Image[Image_with_a_descriptive_title.jpeg]
</code></pre></div>
</div><div class="p" id="p-109"><span class="hide-hover"> <a href="#p-109">ğŸ”—</a></span>However, if you are making a huge tutorial, which can have a huge undefined number of images (i.e. any scientific book), then you likely don't want to git track your images in the git repository.</div><div class="p" id="p-110"><span class="hide-hover"> <a href="#p-110">ğŸ”—</a></span>We recommend the following approach instead.</div><div class="p" id="p-111"><span class="hide-hover"> <a href="#p-111">ğŸ”—</a></span>Create a separate GitHub repository in addition to the main one containing the text, for example:</div><div><ul id="ul-6">
<div><li id="l-11"><code>./my-tutorial/</code></li></div><div><li id="l-12"><code>./my-tutorial-media/</code></li></div></ul></div><div class="p" id="p-112"><span class="hide-hover"> <a href="#p-112">ğŸ”—</a></span>The name <code>*-media</code> suffix is not mandatory, but if you use this default, <code>cirodown</code> will handle it for you without any further configuration.</div><div class="p" id="p-113"><span class="hide-hover"> <a href="#p-113">ğŸ”—</a></span>And then set the <a href="#media-source-type"><code>media_source_type</code></a> option in your <a href="#cirodown-json"><code>cirodown.json</code></a>:
<div><span class="hide-hover"> <a href="#c-61">ğŸ”—</a></span><pre id="c-61"><code>{
  media_source_type = "media_repo"
}
</code></pre></div>
</div><div class="p" id="p-114"><span class="hide-hover"> <a href="#p-114">ğŸ”—</a></span>Now, simply drop your images into the <code>my-tutorial-media</code> repository and use them just as before, and everything will just work!
<div><span class="hide-hover"> <a href="#c-62">ğŸ”—</a></span><pre id="c-62"><code>\Image[Image_with_a_descriptive_title.jpeg]
</code></pre></div>
</div><div class="p" id="p-115"><span class="hide-hover"> <a href="#p-115">ğŸ”—</a></span><code>cirodown</code> will even automatically add and push used images in the <code>my-tutorial-media</code> repository for you during publishing!</div><div class="p" id="p-116"><span class="hide-hover"> <a href="#p-116">ğŸ”—</a></span>You should then use the following rules inside <code>my-tutorial-media</code>:
<div><ul id="ul-34">
<div><li id="l-100">give every file a very descriptive and unique name as a full English sentence</li></div><div><li id="l-101">never ever delete any files, nor change their content, unless it is an improvement in format that does change the information contained of the image TODO link to nice Wikimedia Commons guideline page</li></div></ul></div></div><div class="p" id="p-117"><span class="hide-hover"> <a href="#p-117">ğŸ”—</a></span>This way, even though the repositories are not fully in sync, anyone who clones the latest version of the <code>*-media</code> directory will be able to view any version of the main repository.</div><div class="p" id="p-118"><span class="hide-hover"> <a href="#p-118">ğŸ”—</a></span>Then, if one day the media repository ever blows up GitHub's limit, you can just migrate the images to another image server that allows arbitrary basenames, e.g. AWS, and just configure your project to use that new media base URL with the <a href="#media-base-url"><code>media_base_url</code></a> option.</div><div class="p" id="p-119"><span class="hide-hover"> <a href="#p-119">ğŸ”—</a></span>The reason why images should be kept in a separate repository is that images are hundreds or thousands of times larger than hand written text.</div><div class="p" id="p-120"><span class="hide-hover"> <a href="#p-120">ğŸ”—</a></span>Therefore, images could easily fill up the maximum repository size you are allowed: <a href="https://webapps.stackexchange.com/questions/45254/file-size-and-storage-limits-on-github#84746">https://webapps.stackexchange.com/questions/45254/file-size-and-storage-limits-on-github#84746</a> and then what will you do when GitHub comes asking you to reduce the repository size?</div><div class="p" id="p-121"><span class="hide-hover"> <a href="#p-121">ğŸ”—</a></span><a href="https://git-lfs.github.com/">Git LFS</a> is one approach to deal with this, but we feel that it adds too much development overhead.</div><h3 id="image-generators"><a href="#image-generators" title="link to this element">8.2. Image generators</a><span>  | <a href="#toc-image-generators">â‡‘ toc</a> | <a href="#images">â†‘ parent "Images <code>\image</code>"</a></span></h3>
<div class="p" id="p-122"><span class="hide-hover"> <a href="#p-122">ğŸ”—</a></span>TODO implement: mechanism where you enter a textual description of the image inside the code body, and it then converts to an image, adds to the <code>-media</code> repo and pushes all automatically. Start with dot.</div><h2 id="code"><a href="#code" title="link to this element">9. Code <code>`</code>, <code>``</code>, <code>\c</code> and <code>\C</code></a><span>  | <a href="#toc-code">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-123"><span class="hide-hover"> <a href="#p-123">ğŸ”—</a></span>Inline code (code that should appear in the middle of a paragraph rather than on its own line) is done with a single backtick (<code>`</code>) <a href="#insane-macro-shortcuts">insane macro shortcut</a>:
<div><span class="hide-hover"> <a href="#c-63">ğŸ”—</a></span><pre id="c-63"><code>My inline `x = 'hello\n'` is awesome.
</code></pre></div>
<div class="p" id="p-323"><span class="hide-hover"> <a href="#p-323">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-24">ğŸ”—</a></span><blockquote id="q-24"><div class="p" id="p-372"><span class="hide-hover"> <a href="#p-372">ğŸ”—</a></span>My inline <code>x = 'hello\n'</code> is awesome.</div></blockquote></div>
and block code (code that should appear on their own line) is done with two or more backticks (<code>``</code>):
<div><span class="hide-hover"> <a href="#c-64">ğŸ”—</a></span><pre id="c-64"><code>``
f() {
  return 'hello\n';
}
``
</code></pre></div>
<div class="p" id="p-324"><span class="hide-hover"> <a href="#p-324">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-25">ğŸ”—</a></span><blockquote id="q-25"><div><span class="hide-hover"> <a href="#c-149">ğŸ”—</a></span><pre id="c-149"><code>f() {
  return 'hello\n';
}
</code></pre></div>
</blockquote></div></div><div class="p" id="p-124"><span class="hide-hover"> <a href="#p-124">ğŸ”—</a></span>The sane version of inline code is a lower case <code>c</code>:
<div><span class="hide-hover"> <a href="#c-65">ğŸ”—</a></span><pre id="c-65"><code>My inline \c[[x = 'hello\n']] is awesome.
</code></pre></div>
<div class="p" id="p-325"><span class="hide-hover"> <a href="#p-325">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-26">ğŸ”—</a></span><blockquote id="q-26"><div class="p" id="p-373"><span class="hide-hover"> <a href="#p-373">ğŸ”—</a></span>My inline <code>x = 'hello\n'</code> is awesome.</div></blockquote></div>
and the sane version of block math is with an upper case <code>M</code>:
<div><span class="hide-hover"> <a href="#c-66">ğŸ”—</a></span><pre id="c-66"><code>\C[[
f() {
  return 'hello\n';
}
]]
</code></pre></div>
<div class="p" id="p-326"><span class="hide-hover"> <a href="#p-326">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-27">ğŸ”—</a></span><blockquote id="q-27"><div><span class="hide-hover"> <a href="#c-150">ğŸ”—</a></span><pre id="c-150"><code>f() {
  return 'hello\n';
}
</code></pre></div>
</blockquote></div></div><div class="p" id="p-125"><span class="hide-hover"> <a href="#p-125">ğŸ”—</a></span>The capital vs lower case theme is also used in other elements, see: <a href="#macro-capitalization-for-block-vs-inline">Macro capitalization for block vs inline</a>.</div><div class="p" id="p-126"><span class="hide-hover"> <a href="#p-126">ğŸ”—</a></span>If the content of the sane code block has many characters that you would need to <a href="#escape-characters">escape</a>, you will often want to use <a href="#literal-arguments">Literal arguments</a>, which work just like the do for any other argument. For example:
<div><span class="hide-hover"> <a href="#c-67">ğŸ”—</a></span><pre id="c-67"><code>\C[[[
A paragraph.

\C[[
And now, some long, long code, with lots
of chars that you would need to escape:
\ [  ] {  }
]]

A paragraph.
]]]
</code></pre></div>
<div class="p" id="p-327"><span class="hide-hover"> <a href="#p-327">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-28">ğŸ”—</a></span><blockquote id="q-28"><div><span class="hide-hover"> <a href="#c-151">ğŸ”—</a></span><pre id="c-151"><code>A paragraph.

\C[[
And now, some long, long code, with lots
of chars that you would need to escape:
\ [  ] {  }
]]

A paragraph.
</code></pre></div>
</blockquote></div>
Note that the initial newline is skipped automatically in code blocks, just as for any other element, due to: <a href="#argument-leading-newline-removal">Argument leading newline removal</a>, so you don't have to worry about it.</div><div class="p" id="p-127"><span class="hide-hover"> <a href="#p-127">ğŸ”—</a></span>The distinction between inline <code>c</code> and block <code>C</code> code blocks is needed because in HTML, <a href="https://stackoverflow.com/questions/5371787/can-i-have-a-pre-tag-inside-a-p-tag-in-tumblr/58603596#58603596"><code>pre</code> cannot go inside <code>p</code></a>.</div><div class="p" id="p-128"><span class="hide-hover"> <a href="#p-128">ğŸ”—</a></span>We could have chosen to do some magic to differentiate between them, e.g. checking if the block is the only element in a paragraph, but we decided not to do that to keep the language saner.</div><h2 id="math"><a href="#math" title="link to this element">10. Mathematics <code>$</code>, <code>$$</code>, <code>\m</code> and <code>\M</code></a><span>  | <a href="#toc-math">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-129"><span class="hide-hover"> <a href="#p-129">ğŸ”—</a></span>Via <a href="https://katex.org/">KaTeX</a> server side, oh yes!</div><div class="p" id="p-130"><span class="hide-hover"> <a href="#p-130">ğŸ”—</a></span>Inline math is done with the dollar sign (<code>$</code>) <a href="#insane-macro-shortcuts">insane macro shortcut</a>:
<div><span class="hide-hover"> <a href="#c-68">ğŸ”—</a></span><pre id="c-68"><code>My inline $\sqrt{1 + 1}$ is awesome.
</code></pre></div>
<div class="p" id="p-328"><span class="hide-hover"> <a href="#p-328">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-29">ğŸ”—</a></span><blockquote id="q-29"><div class="p" id="p-374"><span class="hide-hover"> <a href="#p-374">ğŸ”—</a></span>My inline <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1 + 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span> is awesome.</div></blockquote></div>
and block math is done with two or more dollar signs (<code>$$</code>):
<div><span class="hide-hover"> <a href="#c-69">ğŸ”—</a></span><pre id="c-69"><code>$$
\sqrt{1 + 1} \\
\sqrt{1 + 1}
$$
</code></pre></div>
<div class="p" id="p-329"><span class="hide-hover"> <a href="#p-329">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-30">ğŸ”—</a></span><blockquote id="q-30"><div class="math-container" id="eq-2"><span class="hide-hover"> <a href="#eq-2">ğŸ”—</a></span><div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt><mspace linebreak="newline"></mspace><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1 + 1} \\
\sqrt{1 + 1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#eq-2">(2)</a></div></div>
</div>
</blockquote></div></div><div class="p" id="p-131"><span class="hide-hover"> <a href="#p-131">ğŸ”—</a></span>The sane version of inline math is a lower case <code>m</code>:
<div><span class="hide-hover"> <a href="#c-70">ğŸ”—</a></span><pre id="c-70"><code>My inline \m[[\sqrt{1 + 1}]] is awesome.
</code></pre></div>
<div class="p" id="p-330"><span class="hide-hover"> <a href="#p-330">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-31">ğŸ”—</a></span><blockquote id="q-31"><div class="p" id="p-375"><span class="hide-hover"> <a href="#p-375">ğŸ”—</a></span>My inline <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1 + 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span> is awesome.</div></blockquote></div>
and the sane version of block math is with an upper case <code>M</code>:
<div><span class="hide-hover"> <a href="#c-71">ğŸ”—</a></span><pre id="c-71"><code>\M[[
\sqrt{1 + 1} \\
\sqrt{1 + 1}
]]
</code></pre></div>
<div class="p" id="p-331"><span class="hide-hover"> <a href="#p-331">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-32">ğŸ”—</a></span><blockquote id="q-32"><div class="math-container" id="eq-3"><span class="hide-hover"> <a href="#eq-3">ğŸ”—</a></span><div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt><mspace linebreak="newline"></mspace><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1 + 1} \\
\sqrt{1 + 1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#eq-3">(3)</a></div></div>
</div>
</blockquote></div></div><div class="p" id="p-132"><span class="hide-hover"> <a href="#p-132">ğŸ”—</a></span>The capital vs lower case theme is also used in other elements, see: <a href="#macro-capitalization-for-block-vs-inline">Macro capitalization for block vs inline</a>.</div><div class="p" id="p-133"><span class="hide-hover"> <a href="#p-133">ğŸ”—</a></span>In the sane syntax, <a href="#escape-characters">as with any other argument</a>, you have to either escape any closing square brackets <code>]</code> with a backslash <code></code>:
<div><span class="hide-hover"> <a href="#c-72">ğŸ”—</a></span><pre id="c-72"><code>My inline \m[1 - \[1 + 1\] = -1] is awesome.
</code></pre></div>
<div class="p" id="p-332"><span class="hide-hover"> <a href="#p-332">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-33">ğŸ”—</a></span><blockquote id="q-33"><div class="p" id="p-376"><span class="hide-hover"> <a href="#p-376">ğŸ”—</a></span>My inline <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ’</mo><mo stretchy="false">[</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 - [1 + 1] = -1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span> is awesome.</div></blockquote></div>
or with the equivalent double open and close:
<div><span class="hide-hover"> <a href="#c-73">ğŸ”—</a></span><pre id="c-73"><code>My inline \m[[1 - [1 + 1] = -1]] is awesome.
</code></pre></div>
</div><div class="p" id="p-134"><span class="hide-hover"> <a href="#p-134">ğŸ”—</a></span>HTML escaping happens as you would expect, e.g. &lt; shows fine in:
<div><span class="hide-hover"> <a href="#c-74">ğŸ”—</a></span><pre id="c-74"><code>$$
1 &lt; 2
$$
</code></pre></div>
<div class="p" id="p-333"><span class="hide-hover"> <a href="#p-333">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-34">ğŸ”—</a></span><blockquote id="q-34"><div class="math-container" id="eq-4"><span class="hide-hover"> <a href="#eq-4">ğŸ”—</a></span><div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1 &lt; 2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></div>
<div><a href="#eq-4">(4)</a></div></div>
</div>
</blockquote></div></div><div class="p" id="p-135"><span class="hide-hover"> <a href="#p-135">ğŸ”—</a></span>Equation IDs and titles and linking to equations works identically to <a href="#images">images</a>, see that section for full details. Here is one equation reference example that links to the following insane syntax equation: <a href="#eq-my-first-insane-equation">Equation 5. "My first insane equation"</a>:
<div><span class="hide-hover"> <a href="#c-75">ğŸ”—</a></span><pre id="c-75"><code>$$
\sqrt{1 + 1}
$${title=My first insane equation}
</code></pre></div>
<div class="p" id="p-334"><span class="hide-hover"> <a href="#p-334">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-35">ğŸ”—</a></span><blockquote id="q-35"><div class="math-container" id="eq-my-first-insane-equation"><span class="hide-hover"> <a href="#eq-my-first-insane-equation">ğŸ”—</a></span><div class="math-caption-container">
<span class="math-caption"><span class="caption-prefix">Equation 5</span>. My first insane equation</span><span> <a href="#eq-my-first-insane-equation">(ğŸ”— link)</a></span>
</div>
<div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1 + 1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#eq-my-first-insane-equation">(5)</a></div></div>
</div>
</blockquote></div>
and the sane equivalent <a href="#eq-my-first-sane-equation">Equation 6. "My first sane equation"</a>:
<div><span class="hide-hover"> <a href="#c-76">ğŸ”—</a></span><pre id="c-76"><code>\M{title=My first sane equation}[[
\sqrt{1 + 1}
]]
</code></pre></div>
<div class="p" id="p-335"><span class="hide-hover"> <a href="#p-335">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-36">ğŸ”—</a></span><blockquote id="q-36"><div class="math-container" id="eq-my-first-sane-equation"><span class="hide-hover"> <a href="#eq-my-first-sane-equation">ğŸ”—</a></span><div class="math-caption-container">
<span class="math-caption"><span class="caption-prefix">Equation 6</span>. My first sane equation</span><span> <a href="#eq-my-first-sane-equation">(ğŸ”— link)</a></span>
</div>
<div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1 + 1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#eq-my-first-sane-equation">(6)</a></div></div>
</div>
</blockquote></div></div><div class="p" id="p-136"><span class="hide-hover"> <a href="#p-136">ğŸ”—</a></span>Here is a raw one just to test the formatting outside of a <code>cirodown_comment</code>:</div><div class="math-container" id="eq-1"><span class="hide-hover"> <a href="#eq-1">ğŸ”—</a></span><div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mn>1</mn><mo>+</mo><mn>1</mn></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{1 + 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#eq-1">(1)</a></div></div>
</div>
<h3 id="math-defines-across-blocks"><a href="#math-defines-across-blocks" title="link to this element">10.1. Math defines across blocks</a><span>  | <a href="#toc-math-defines-across-blocks">â‡‘ toc</a> | <a href="#math">â†‘ parent "Mathematics <code>$</code>, <code>$$</code>, <code>\m</code> and <code>\M</code>"</a></span></h3>
<div class="p" id="p-137"><span class="hide-hover"> <a href="#p-137">ğŸ”—</a></span>TODO superior <code>\newcommand</code> version pending upstream tag bump: <a href="https://github.com/KaTeX/KaTeX/pull/2091">https://github.com/KaTeX/KaTeX/pull/2091</a></div><div class="p" id="p-138"><span class="hide-hover"> <a href="#p-138">ğŸ”—</a></span>First here is an invisible block (with <code>{show=0}</code>) defining with a <code>\newcommand</code> definition after this paragraph:</div><div class="p" id="p-139"><span class="hide-hover"> <a href="#p-139">ğŸ”—</a></span><div><span class="hide-hover"> <a href="#c-77">ğŸ”—</a></span><pre id="c-77"><code>$$[[
\newcommand{\foo}[0]{bar}
$${show=0}
</code></pre></div>
<div class="p" id="p-336"><span class="hide-hover"> <a href="#p-336">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-37">ğŸ”—</a></span><blockquote id="q-37"></blockquote></div></div><div class="p" id="p-140"><span class="hide-hover"> <a href="#p-140">ğŸ”—</a></span>We make it invisible because this block only contains KaTeX definitions, and should not render to anything.</div><div class="p" id="p-141"><span class="hide-hover"> <a href="#p-141">ğŸ”—</a></span>Then the second math block uses those definitions:</div><div><span class="hide-hover"> <a href="#c-1">ğŸ”—</a></span><pre id="c-1"><code>$$
\foo
]]
$$
</code></pre></div>
<div class="p" id="p-142"><span class="hide-hover"> <a href="#p-142">ğŸ”—</a></span>Analogously with <code>\def</code>, definition:
<div><span class="hide-hover"> <a href="#c-78">ğŸ”—</a></span><pre id="c-78"><code>$$
\gdef\foogdef{bar}
$${show=0}
</code></pre></div>
<div class="p" id="p-337"><span class="hide-hover"> <a href="#p-337">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-38">ğŸ”—</a></span><blockquote id="q-38"></blockquote></div>
and the second block using it:
<div><span class="hide-hover"> <a href="#c-79">ğŸ”—</a></span><pre id="c-79"><code>$$
\foogdef
$$
</code></pre></div>
<div class="p" id="p-338"><span class="hide-hover"> <a href="#p-338">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-39">ğŸ”—</a></span><blockquote id="q-39"><div class="math-container" id="eq-7"><span class="hide-hover"> <a href="#eq-7">ğŸ”—</a></span><div class="math-equation">
<div><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mi>a</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">\foogdef
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span></div>
<div><a href="#eq-7">(7)</a></div></div>
</div>
</blockquote></div></div><h2 id="tables"><a href="#tables" title="link to this element">11. Tables <code>\table</code>, <code>\tr</code>, <code>\th</code> and <code>\td</code></a><span>  | <a href="#toc-tables">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-143"><span class="hide-hover"> <a href="#p-143">ğŸ”—</a></span>Similar to lists.</div><div class="p" id="p-144"><span class="hide-hover"> <a href="#p-144">ğŸ”—</a></span><a href="#auto-parent">Implicit container</a> with optional indentation to improve readability:
<div><span class="hide-hover"> <a href="#c-80">ğŸ”—</a></span><pre id="c-80"><code>\tr[
  \th[Header 1]
  \th[Header 2]
]
\tr[
  \td[1 1]
  \td[1 2]
]
\tr[
  \td[2 1]
  \td[2 2]
]
</code></pre></div>
<div class="p" id="p-339"><span class="hide-hover"> <a href="#p-339">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-40">ğŸ”—</a></span><blockquote id="q-40"><div class="table-container" id="table-2"><span class="hide-hover"> <a href="#table-2">ğŸ”—</a></span>
<div class="table-caption-container">
<span class="table-caption"><span class="caption-prefix">Table 2</span></span><span> <a href="#table-2">(ğŸ”— link)</a></span>
</div>
<table>
<div><tr id="tr-5">
<div><th id="th-4">Header 1</th></div><div><th id="th-5">Header 2</th></div></tr></div><div><tr id="tr-6">
<div><td id="td-10">1 1</td></div><div><td id="td-11">1 2</td></div></tr></div><div><tr id="tr-7">
<div><td id="td-12">2 1</td></div><div><td id="td-13">2 2</td></div></tr></div></table>
</div>
</blockquote></div></div><div class="p" id="p-145"><span class="hide-hover"> <a href="#p-145">ğŸ”—</a></span>Explicit container to add further properties: <a href="#table-my-table">Table 3. "My table title"</a>.
<div><span class="hide-hover"> <a href="#c-81">ğŸ”—</a></span><pre id="c-81"><code>\table{title=My table title}
{id=table-my-table}
[
\tr[
  \th[Header 1]
  \th[Header 2]
]
\tr[
  \td[1 1]
  \td[1 2]
]
\tr[
  \td[2 1]
  \td[2 2]
]
]
</code></pre></div>
<div class="p" id="p-340"><span class="hide-hover"> <a href="#p-340">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-41">ğŸ”—</a></span><blockquote id="q-41"><div class="table-container" id="table-my-table"><span class="hide-hover"> <a href="#table-my-table">ğŸ”—</a></span>
<div class="table-caption-container">
<span class="table-caption"><span class="caption-prefix">Table 3</span>. My table title</span><span> <a href="#table-my-table">(ğŸ”— link)</a></span>
</div>
<table>
<div><tr id="tr-8">
<div><th id="th-6">Header 1</th></div><div><th id="th-7">Header 2</th></div></tr></div><div><tr id="tr-9">
<div><td id="td-14">1 1</td></div><div><td id="td-15">1 2</td></div></tr></div><div><tr id="tr-10">
<div><td id="td-16">2 1</td></div><div><td id="td-17">2 2</td></div></tr></div></table>
</div>
</blockquote></div></div><h2 id="quotations"><a href="#quotations" title="link to this element">12. Quotations <code>\q</code></a><span>  | <a href="#toc-quotations">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-146"><span class="hide-hover"> <a href="#p-146">ğŸ”—</a></span>With <code>q</code>:
<div><span class="hide-hover"> <a href="#c-82">ğŸ”—</a></span><pre id="c-82"><code>And so he said:

\q[
Something very smart

And with multiple paragraphs.
]

and it was great.
</code></pre></div>
<div class="p" id="p-341"><span class="hide-hover"> <a href="#p-341">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-42">ğŸ”—</a></span><blockquote id="q-42"><div class="p" id="p-377"><span class="hide-hover"> <a href="#p-377">ğŸ”—</a></span>And so he said:</div><div><span class="hide-hover"> <a href="#q-55">ğŸ”—</a></span><blockquote id="q-55"><div class="p" id="p-429"><span class="hide-hover"> <a href="#p-429">ğŸ”—</a></span>Something very smart</div><div class="p" id="p-430"><span class="hide-hover"> <a href="#p-430">ğŸ”—</a></span>And with multiple paragraphs.
</div></blockquote></div><div class="p" id="p-378"><span class="hide-hover"> <a href="#p-378">ğŸ”—</a></span>and it was great.</div></blockquote></div></div><h2 id="comments"><a href="#comments" title="link to this element">13. Comments</a><span>  | <a href="#toc-comments">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-147"><span class="hide-hover"> <a href="#p-147">ğŸ”—</a></span>The <code>Comment</code> and <code>comment</code> macros are regular macros that does not produce any output. Capitalization is explained at: <a href="#macro-capitalization-for-block-vs-inline">Macro capitalization for block vs inline</a>.</div><div class="p" id="p-148"><span class="hide-hover"> <a href="#p-148">ğŸ”—</a></span>You will therefore mostly want to use it with a <a href="#literal-arguments">literal argument</a>, which will, as for any other macro, ignore any macros inside of it.
<div><span class="hide-hover"> <a href="#c-83">ğŸ”—</a></span><pre id="c-83"><code>Before comment.

\Comment[[
Inside comment.
]]

After comment.
</code></pre></div>
<div class="p" id="p-342"><span class="hide-hover"> <a href="#p-342">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-43">ğŸ”—</a></span><blockquote id="q-43"><div class="p" id="p-379"><span class="hide-hover"> <a href="#p-379">ğŸ”—</a></span>Before comment.</div><div class="p" id="p-380"><span class="hide-hover"> <a href="#p-380">ğŸ”—</a></span>After comment.</div></blockquote></div></div><div class="p" id="p-149"><span class="hide-hover"> <a href="#p-149">ğŸ”—</a></span>And an inline one:
<div><span class="hide-hover"> <a href="#c-84">ğŸ”—</a></span><pre id="c-84"><code>My inline \comment[[inside comment]] is awesome.

\comment[[inside comment]] inline at the start.
</code></pre></div>
<div class="p" id="p-343"><span class="hide-hover"> <a href="#p-343">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-44">ğŸ”—</a></span><blockquote id="q-44"><div class="p" id="p-381"><span class="hide-hover"> <a href="#p-381">ğŸ”—</a></span>My inline  is awesome.</div><div class="p" id="p-382"><span class="hide-hover"> <a href="#p-382">ğŸ”—</a></span> inline at the start.</div></blockquote></div></div><h2 id="cirodown-syntax"><a href="#cirodown-syntax" title="link to this element">14. Cirodown syntax</a><span>  | <a href="#toc-cirodown-syntax">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<h3 id="insane-macro-shortcuts"><a href="#insane-macro-shortcuts" title="link to this element">14.1. Insane macro shortcuts</a><span>  | <a href="#toc-insane-macro-shortcuts">â‡‘ toc</a> | <a href="#cirodown-syntax">â†‘ parent "Cirodown syntax"</a></span></h3>
<div class="p" id="p-150"><span class="hide-hover"> <a href="#p-150">ğŸ”—</a></span>Certain commonly used macros have insane macro shortcuts that do not start with backslash (<code></code>):
<div><ul id="ul-35">
<div><li id="l-102"><a href="#paragraphs">Paragraphs <code>\p</code></a>: <code>\n\n</code> (double newline)</li></div><div><li id="l-103"><a href="#math">Mathematics <code>$</code>, <code>$$</code>, <code>\m</code> and <code>\M</code></a>: <code>$</code>, described at: <a href="#insane-code-and-math-shortcuts">Insane code and math shortcuts</a></li></div><div><li id="l-104"><a href="#code">Code <code>`</code>, <code>``</code>, <code>\c</code> and <code>\C</code></a>: <code>`</code>, described at: <a href="#insane-code-and-math-shortcuts">Insane code and math shortcuts</a></li></div></ul></div></div><div class="p" id="p-151"><span class="hide-hover"> <a href="#p-151">ğŸ”—</a></span>Originally, <a href="#design-goals">Ciro wanted to avoid those</a>, but they just feel too good to avoid.</div><div class="p" id="p-152"><span class="hide-hover"> <a href="#p-152">ğŸ”—</a></span>Every insane syntax does however have an equivalent sane syntax.</div><div class="p" id="p-153"><span class="hide-hover"> <a href="#p-153">ğŸ”—</a></span>The style recommendation is: use the insane version which is shorter, unless you have a specific reason to use the sane version.</div><h4 id="insane-code-and-math-shortcuts"><a href="#insane-code-and-math-shortcuts" title="link to this element">14.1.1. Insane code and math shortcuts</a><span>  | <a href="#toc-insane-code-and-math-shortcuts">â‡‘ toc</a> | <a href="#insane-macro-shortcuts">â†‘ parent "Insane macro shortcuts"</a></span></h4>
<div class="p" id="p-154"><span class="hide-hover"> <a href="#p-154">ğŸ”—</a></span>The insane code and math shortcuts work very analogously and are therefore described together in this section.</div><div class="p" id="p-155"><span class="hide-hover"> <a href="#p-155">ğŸ”—</a></span>The insane inline code syntax:
<div><span class="hide-hover"> <a href="#c-85">ğŸ”—</a></span><pre id="c-85"><code>a `b c` d
</code></pre></div>
<div class="p" id="p-344"><span class="hide-hover"> <a href="#p-344">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-45">ğŸ”—</a></span><blockquote id="q-45"><div class="p" id="p-383"><span class="hide-hover"> <a href="#p-383">ğŸ”—</a></span>a <code>b c</code> d</div></blockquote></div>
and is equivalent to the sane:
<div><span class="hide-hover"> <a href="#c-86">ğŸ”—</a></span><pre id="c-86"><code>a \c[[b c]] d
</code></pre></div>
</div><div class="p" id="p-156"><span class="hide-hover"> <a href="#p-156">ğŸ”—</a></span>The insane block code:
<div><span class="hide-hover"> <a href="#c-87">ğŸ”—</a></span><pre id="c-87"><code>a

``
b c
``

d
</code></pre></div>
<div class="p" id="p-345"><span class="hide-hover"> <a href="#p-345">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-46">ğŸ”—</a></span><blockquote id="q-46"><div class="p" id="p-384"><span class="hide-hover"> <a href="#p-384">ğŸ”—</a></span>a</div><div><span class="hide-hover"> <a href="#c-152">ğŸ”—</a></span><pre id="c-152"><code>b c
</code></pre></div>
<div class="p" id="p-385"><span class="hide-hover"> <a href="#p-385">ğŸ”—</a></span>d</div></blockquote></div>
and is equivalent to the sane:
<div><span class="hide-hover"> <a href="#c-88">ğŸ”—</a></span><pre id="c-88"><code>a

\C[[
b c
]]

d
</code></pre></div>
</div><h4 id="insane-macro-shortcut-extra-arguments"><a href="#insane-macro-shortcut-extra-arguments" title="link to this element">14.1.2. Insane macro shortcut extra arguments</a><span>  | <a href="#toc-insane-macro-shortcut-extra-arguments">â‡‘ toc</a> | <a href="#insane-macro-shortcuts">â†‘ parent "Insane macro shortcuts"</a></span></h4>
<div class="p" id="p-157"><span class="hide-hover"> <a href="#p-157">ğŸ”—</a></span>Insane arguments always work by abbreviating:</div><div><ul id="ul-7">
<div><li id="l-13">the macro name</li></div><div><li id="l-14">one or more of its positional arguments, which are fixed as either <a href="#literal-arguments">literal or non-literal</a> for a given insane construct</li></div></ul></div><div class="p" id="p-158"><span class="hide-hover"> <a href="#p-158">ğŸ”—</a></span>This means that you can add further arguments as usual.</div><div class="p" id="p-159"><span class="hide-hover"> <a href="#p-159">ğŸ”—</a></span>For example, an insane code block with an id can be written as:
<div><span class="hide-hover"> <a href="#c-89">ğŸ”—</a></span><pre id="c-89"><code>a `b c`{id=ef} g
</code></pre></div>

because that is the same as:
<div><span class="hide-hover"> <a href="#c-90">ğŸ”—</a></span><pre id="c-90"><code>a \c[b c]{id=ef} g
</code></pre></div>
<div class="p" id="p-346"><span class="hide-hover"> <a href="#p-346">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-47">ğŸ”—</a></span><blockquote id="q-47"><div class="p" id="p-386"><span class="hide-hover"> <a href="#p-386">ğŸ”—</a></span>a <code id="ef">b c</code> g</div></blockquote></div></div><div class="p" id="p-160"><span class="hide-hover"> <a href="#p-160">ğŸ”—</a></span>Extra arguments must however come after the insane opening, e.g. the following does not work:
<div><span class="hide-hover"> <a href="#c-91">ğŸ”—</a></span><pre id="c-91"><code>a {id=ef}`b c` g
</code></pre></div>
<div class="p" id="p-347"><span class="hide-hover"> <a href="#p-347">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-48">ğŸ”—</a></span><blockquote id="q-48"><div class="p" id="p-387"><span class="hide-hover"> <a href="#p-387">ğŸ”—</a></span>a [CIRODOWN_ERROR: unexpected token][CIRODOWN_ERROR: unexpected token]ef</div></blockquote></div></div><div class="p" id="p-161"><span class="hide-hover"> <a href="#p-161">ğŸ”—</a></span>This restriction things easy to parse for humans and machines alike.</div><h4 id="escapes-in-insane-macro-shortcuts"><a href="#escapes-in-insane-macro-shortcuts" title="link to this element">14.1.3. Escapes in insane macro shortcuts</a><span>  | <a href="#toc-escapes-in-insane-macro-shortcuts">â‡‘ toc</a> | <a href="#insane-macro-shortcuts">â†‘ parent "Insane macro shortcuts"</a></span></h4>
<div class="p" id="p-162"><span class="hide-hover"> <a href="#p-162">ğŸ”—</a></span>Literal backticks and dollar signs can be produced witha backslash escape as in:
<div><span class="hide-hover"> <a href="#c-92">ğŸ”—</a></span><pre id="c-92"><code>a \` \$ b
</code></pre></div>
<div class="p" id="p-348"><span class="hide-hover"> <a href="#p-348">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-49">ğŸ”—</a></span><blockquote id="q-49"><div class="p" id="p-388"><span class="hide-hover"> <a href="#p-388">ğŸ”—</a></span>a ` $ b</div></blockquote></div></div><div class="p" id="p-163"><span class="hide-hover"> <a href="#p-163">ğŸ”—</a></span>It is not possible to escape backticks (<code>`</code>) inside an insane inline code, or dollar signs (<code>$</code>) in insane math.</div><div class="p" id="p-164"><span class="hide-hover"> <a href="#p-164">ğŸ”—</a></span>The design reason for that is because multiple backticks produce block code.</div><div class="p" id="p-165"><span class="hide-hover"> <a href="#p-165">ğŸ”—</a></span>The upside is that then you don't have to escape anything else, e.g. backslashes (<code></code>) are rendered literally.</div><div class="p" id="p-166"><span class="hide-hover"> <a href="#p-166">ğŸ”—</a></span>The only way to do it is to use the sane syntax instead:
<div><span class="hide-hover"> <a href="#c-93">ğŸ”—</a></span><pre id="c-93"><code>a \c[[b ` c]] d

a \m[[\sqrt{\$4}]] d
</code></pre></div>
<div class="p" id="p-349"><span class="hide-hover"> <a href="#p-349">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-50">ğŸ”—</a></span><blockquote id="q-50"><div class="p" id="p-389"><span class="hide-hover"> <a href="#p-389">ğŸ”—</a></span>a <code>b ` c</code> d</div><div class="p" id="p-390"><span class="hide-hover"> <a href="#p-390">ğŸ”—</a></span>a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mrow><mi mathvariant="normal">$</mi><mn>4</mn></mrow></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{\$4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.10777999999999999em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.93222em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">$</span><span class="mord">4</span></span></span><span style="top:-2.89222em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.10777999999999999em;"><span></span></span></span></span></span></span></span></span> d</div></blockquote></div></div><div class="p" id="p-167"><span class="hide-hover"> <a href="#p-167">ğŸ”—</a></span>Within block code and math, you can just add more separators:
<div><span class="hide-hover"> <a href="#c-94">ğŸ”—</a></span><pre id="c-94"><code>```
code with two backticks
``
nice
```
</code></pre></div>
<div class="p" id="p-350"><span class="hide-hover"> <a href="#p-350">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-51">ğŸ”—</a></span><blockquote id="q-51"><div><span class="hide-hover"> <a href="#c-153">ğŸ”—</a></span><pre id="c-153"><code>code with two backticks
``
nice
</code></pre></div>
</blockquote></div></div><h3 id="macro-argument-syntax"><a href="#macro-argument-syntax" title="link to this element">14.2. Macro argument syntax</a><span>  | <a href="#toc-macro-argument-syntax">â‡‘ toc</a> | <a href="#cirodown-syntax">â†‘ parent "Cirodown syntax"</a></span></h3>
<h4 id="positional-vs-named-arguments"><a href="#positional-vs-named-arguments" title="link to this element">14.2.1. Positional vs named arguments</a><span>  | <a href="#toc-positional-vs-named-arguments">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<div class="p" id="p-168"><span class="hide-hover"> <a href="#p-168">ğŸ”—</a></span>Every argument in Cirodown is either positional or named.</div><div class="p" id="p-169"><span class="hide-hover"> <a href="#p-169">ğŸ”—</a></span>For example, in a <a href="#headers">header</a> definition with an ID:
<div><span class="hide-hover"> <a href="#c-95">ğŸ”—</a></span><pre id="c-95"><code>\h[1][My asdf]{id=asdf qwer}{id_scope=myscope}
</code></pre></div>

we have:
<div><ul id="ul-36">
<div><li id="l-105">two positional argument: <code>[1]</code> and <code>[My asdf]</code>. Those are surrounded by square brackets <code>[]</code> and have no name</li></div><div><li id="l-106"><div class="p" id="p-431"><span class="hide-hover"> <a href="#p-431">ğŸ”—</a></span>  two named arguments: <code>{id=asdf qwer}</code> and <code>{id_scope=myscope}</code>.</div><div class="p" id="p-432"><span class="hide-hover"> <a href="#p-432">ğŸ”—</a></span>  The first one has name <code>id</code> and the mandatory separator <code>=</code>, followed by the value <code>asdf qwer</code>.
</div></li></div></ul></div></div><div class="p" id="p-170"><span class="hide-hover"> <a href="#p-170">ğŸ”—</a></span>You can determine if a macro is positional or named by using <a href="#help-macros"><code>--help-macros</code></a>. Its output contains something like:
<div><span class="hide-hover"> <a href="#c-96">ğŸ”—</a></span><pre id="c-96"><code>  "h": {
    "name": "h",
    "positional_args": [
      {
        "name": "level"
      },
      {
        "name": "content"
      }
    ],
    "named_args": {
      "id": {
        "name": "id"
      }
      "id_scope": {
        "name": "id_scope"
      }
    },
</code></pre></div>

and so we see that <code>level</code> and <code>content</code> are positional arguments, and <code>id</code> and <code>id_scope</code> are named arguments.</div><div class="p" id="p-171"><span class="hide-hover"> <a href="#p-171">ğŸ”—</a></span>Generally, positional arguments are few (otherwise it would be hard to know which is which is which), and are almost always used for a given element so tha they save us from typing the name too many times.</div><div class="p" id="p-172"><span class="hide-hover"> <a href="#p-172">ğŸ”—</a></span>The order of positional arguments must of course be fixed, but named arguments can go anywhere. We can even mix positional and named arguments however we want, although this is not advised for clarity.</div><div class="p" id="p-173"><span class="hide-hover"> <a href="#p-173">ğŸ”—</a></span>The following are therefore all equivalent:
<div><span class="hide-hover"> <a href="#c-97">ğŸ”—</a></span><pre id="c-97"><code>\h[1][My asdf]{id=asdf qwer}{id_scope=myscope}
\h[1][My asdf]{id_scope=myscope}{id=asdf qwer}
\h{id=asdf qwer}{id_scope=myscope}[1][My asdf]
\h{id_scope=myscope}[1]{id=asdf qwer}[My asdf]
</code></pre></div>
</div><div class="p" id="p-174"><span class="hide-hover"> <a href="#p-174">ğŸ”—</a></span>Just like named arguments, positional arguments are never mandatory.</div><div class="p" id="p-175"><span class="hide-hover"> <a href="#p-175">ğŸ”—</a></span>If not given, most positional arguments will default to an empty string.</div><div class="p" id="p-176"><span class="hide-hover"> <a href="#p-176">ğŸ”—</a></span>However, some positional arguments can have special effects if not given.</div><div class="p" id="p-177"><span class="hide-hover"> <a href="#p-177">ğŸ”—</a></span>For example, an anchor with the first positional argument present (the URL), but not the second positional argument (the link text) as in:
<div><span class="hide-hover"> <a href="#c-98">ğŸ”—</a></span><pre id="c-98"><code>\a[http://example.com]
</code></pre></div>
<div class="p" id="p-351"><span class="hide-hover"> <a href="#p-351">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-52">ğŸ”—</a></span><blockquote id="q-52"><div class="p" id="p-391"><span class="hide-hover"> <a href="#p-391">ğŸ”—</a></span><a href="http://example.com">http://example.com</a></div></blockquote></div>
has the special effect of generating automatic links as in:
<div><span class="hide-hover"> <a href="#c-99">ğŸ”—</a></span><pre id="c-99"><code>\a[http://example.com][http://example.com]
</code></pre></div>
</div><div class="p" id="p-178"><span class="hide-hover"> <a href="#p-178">ğŸ”—</a></span>See also: <a href="#links">Links <code>\a</code></a>.</div><h4 id="javascript-interface-for-arguments"><a href="#javascript-interface-for-arguments" title="link to this element">14.2.2. JavaScript interface for arguments</a><span>  | <a href="#toc-javascript-interface-for-arguments">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<div class="p" id="p-179"><span class="hide-hover"> <a href="#p-179">ğŸ”—</a></span>The JavaScript interface sees arguments as follows:
<div><span class="hide-hover"> <a href="#c-100">ğŸ”—</a></span><pre id="c-100"><code>function macro_name(args)
</code></pre></div>

where args is a dict such that:
<div><ul id="ul-37">
<div><li id="l-107">optional arguments have the key / value pairs explicitly given on the call</li></div><div><li id="l-108"><div class="p" id="p-433"><span class="hide-hover"> <a href="#p-433">ğŸ”—</a></span>  mandatory arguments have a key documented by the API, and the value on the call.</div><div class="p" id="p-434"><span class="hide-hover"> <a href="#p-434">ğŸ”—</a></span>  For example, the link API names its arguments <code>href</code> and <code>text</code>.
</div></li></div></ul></div></div><h4 id="literal-arguments"><a href="#literal-arguments" title="link to this element">14.2.3. Literal arguments</a><span>  | <a href="#toc-literal-arguments">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<div class="p" id="p-180"><span class="hide-hover"> <a href="#p-180">ğŸ”—</a></span>Arguments that are opened with more than one square brackets <code>[</code> or curly braces <code>{</code> are literal arguments.</div><div class="p" id="p-181"><span class="hide-hover"> <a href="#p-181">ğŸ”—</a></span>In literal arguments, Cirodown is not parsed, and the entire argument is considered as text until a corresponding close with the same number of characters.</div><div class="p" id="p-182"><span class="hide-hover"> <a href="#p-182">ğŸ”—</a></span>Therefore, you cannot have nested content, but it makes it extremely convenient to write <a href="#code">Code <code>`</code>, <code>``</code>, <code>\c</code> and <code>\C</code></a> or <a href="#math">Mathematics <code>$</code>, <code>$$</code>, <code>\m</code> and <code>\M</code></a>.</div><div class="p" id="p-183"><span class="hide-hover"> <a href="#p-183">ğŸ”—</a></span>For example, a multiline code block with double open and double close square brackets inside can be enclosed in triple square brackets:
<div><span class="hide-hover"> <a href="#c-101">ğŸ”—</a></span><pre id="c-101"><code>A literal argument looks like this in Cirodown:

\C[[
\C[
A multiline

code block.
]
]]

And another paragraph.
</code></pre></div>
<div class="p" id="p-352"><span class="hide-hover"> <a href="#p-352">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-53">ğŸ”—</a></span><blockquote id="q-53"><div class="p" id="p-392"><span class="hide-hover"> <a href="#p-392">ğŸ”—</a></span>A literal argument looks like this in Cirodown:</div><div><span class="hide-hover"> <a href="#c-154">ğŸ”—</a></span><pre id="c-154"><code>\C[
A multiline

code block.
]
</code></pre></div>
<div class="p" id="p-393"><span class="hide-hover"> <a href="#p-393">ğŸ”—</a></span>And another paragraph.</div></blockquote></div></div><div class="p" id="p-184"><span class="hide-hover"> <a href="#p-184">ğŸ”—</a></span>The same works for inline code:
<div><span class="hide-hover"> <a href="#c-102">ğŸ”—</a></span><pre id="c-102"><code>The program \c[[puts("]");]] is very complex.
</code></pre></div>
<div class="p" id="p-353"><span class="hide-hover"> <a href="#p-353">ğŸ”—</a></span>which renders as:</div><div><span class="hide-hover"> <a href="#q-54">ğŸ”—</a></span><blockquote id="q-54"><div class="p" id="p-394"><span class="hide-hover"> <a href="#p-394">ğŸ”—</a></span>The program <code>puts("]");</code> is very complex.</div></blockquote></div></div><div class="p" id="p-185"><span class="hide-hover"> <a href="#p-185">ğŸ”—</a></span>Within literal blocks, only one thing can be escaped with backslashes are:
<div><ul id="ul-38">
<div><li id="l-109">leading open square bracket <code>[</code></li></div><div><li id="l-110">trailing close square bracket <code>]</code></li></div></ul></div></div><div class="p" id="p-186"><span class="hide-hover"> <a href="#p-186">ğŸ”—</a></span>The rule is that:
<div><ul id="ul-39">
<div><li id="l-111">if the first character of a literal argument is a sequence of backslashes (<code></code>), and it is followed by another argument open character (e.g. <code>[</code>, remove the first <code></code> and treat the other characters as regular text</li></div><div><li id="l-112">if the last character of a literal argument is a <code></code>, ignore it and treat the following closing character (e.g. <code>]</code>) as regular text</li></div></ul></div></div><div class="p" id="p-187"><span class="hide-hover"> <a href="#p-187">ğŸ”—</a></span>See the following open input/output pairs:
<div><span class="hide-hover"> <a href="#c-103">ğŸ”—</a></span><pre id="c-103"><code>\c[[\ b]]
&lt;code&gt;\ b&lt;/code&gt;

\c[[\a b]]
&lt;code&gt;\a b&lt;/code&gt;

\c[[\[ b]]
&lt;code&gt;[ b&lt;/code&gt;

\c[[\\[ b]]
&lt;code&gt;\[ b&lt;/code&gt;

\c[[\\\[ b]]
&lt;code&gt;\\[ b&lt;/code&gt;
</code></pre></div>

and close examples:
<div><span class="hide-hover"> <a href="#c-104">ğŸ”—</a></span><pre id="c-104"><code>\c[[a \]]
&lt;code&gt;a \&lt;/code&gt;

\c[[a \]]]
&lt;code&gt;a ]&lt;/code&gt;

\c[[a \\]]]
&lt;code&gt;a \]&lt;/code&gt;
</code></pre></div>
</div><h4 id="argument-leading-newline-removal"><a href="#argument-leading-newline-removal" title="link to this element">14.2.4. Argument leading newline removal</a><span>  | <a href="#toc-argument-leading-newline-removal">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<div class="p" id="p-188"><span class="hide-hover"> <a href="#p-188">ğŸ”—</a></span>If the very first character of an argument is a newline, then that character is ignored.</div><div class="p" id="p-189"><span class="hide-hover"> <a href="#p-189">ğŸ”—</a></span>For example:
<div><span class="hide-hover"> <a href="#c-105">ğŸ”—</a></span><pre id="c-105"><code>\C[[
a

b
]]
</code></pre></div>

generates something like:
<div><span class="hide-hover"> <a href="#c-106">ğŸ”—</a></span><pre id="c-106"><code>&lt;pre&gt;&lt;code&gt;a

b
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div>

instead of:
<div><span class="hide-hover"> <a href="#c-107">ğŸ”—</a></span><pre id="c-107"><code>&lt;pre&gt;&lt;code&gt;
a

b
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div>
</div><div class="p" id="p-190"><span class="hide-hover"> <a href="#p-190">ğŸ”—</a></span>This is extremely convenient to improve the readability of code blocks and similar constructs.</div><div class="p" id="p-191"><span class="hide-hover"> <a href="#p-191">ğŸ”—</a></span>If you absolutely need an opening newline, just add a second leading or trailing newline to the macro argument, e.g.:
<div><span class="hide-hover"> <a href="#c-108">ğŸ”—</a></span><pre id="c-108"><code>\C[[

a

b

]]
</code></pre></div>
</div><h4 id="argument-newlines-between-arguments-removal"><a href="#argument-newlines-between-arguments-removal" title="link to this element">14.2.5. Argument newlines between arguments removal</a><span>  | <a href="#toc-argument-newlines-between-arguments-removal">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<div class="p" id="p-192"><span class="hide-hover"> <a href="#p-192">ğŸ”—</a></span>The macro name and the first argument, and two consecutive arguments, can be optionally separated by exactly one newline character, e.g.:
<div><span class="hide-hover"> <a href="#c-109">ğŸ”—</a></span><pre id="c-109"><code>\h[2]
{id-scope=true}
[Design goals]
</code></pre></div>

is equivalent to:
<div><span class="hide-hover"> <a href="#c-110">ğŸ”—</a></span><pre id="c-110"><code>\h[2]{id-scope=true}[Design goals]
</code></pre></div>

and this non-recommended mixed style:
<div><span class="hide-hover"> <a href="#c-111">ğŸ”—</a></span><pre id="c-111"><code>\h[2]{id-scope=true}
[Design goals]
</code></pre></div>

This allows to greatly improve the readability of long argument lists by having them one per line.</div><h4 id="escape-characters"><a href="#escape-characters" title="link to this element">14.2.6. Escape characters</a><span>  | <a href="#toc-escape-characters">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<div class="p" id="p-193"><span class="hide-hover"> <a href="#p-193">ğŸ”—</a></span>For <a href="#literal-arguments">non-literal macro arguments</a>, you have to use a backslash to escape:
<div><ul id="ul-40">
<div><li id="l-113"><code></code>: backslashes start macros</li></div><div><li id="l-114"><code></code> and <code></code>: open and close <a href="#positional-vs-named-arguments">positional macro arguments</a></li></div><div><li id="l-115"><code></code> and <code></code>: open and close <a href="#positional-vs-named-arguments">optional macro arguments</a></li></div><div><li id="l-116"><code>$</code> (dollar sign)</li></div></ul></div>: <a href="#insane-macro-shortcuts">insane macro shortcut</a> for <a href="#math">Math</a>
<div><ul id="ul-41">
<div><li id="l-117"><code>`</code> (backtick)</li></div></ul></div>: <a href="#insane-macro-shortcuts">insane macro shortcut</a> for <a href="#code">code</a></div><div class="p" id="p-194"><span class="hide-hover"> <a href="#p-194">ğŸ”—</a></span>The escape rules for literal arguments are described at: <a href="#literal-arguments">Section 14.2.3. "Literal arguments"</a>.</div><div class="p" id="p-195"><span class="hide-hover"> <a href="#p-195">ğŸ”—</a></span>This is good for short arguments of regular text, but for longer blocks of <a href="#code">Code <code>`</code>, <code>``</code>, <code>\c</code> and <code>\C</code></a> or <a href="#math">Mathematics <code>$</code>, <code>$$</code>, <code>\m</code> and <code>\M</code></a>, you may want to use <a href="#literal-arguments">Literal arguments</a></div><h4 id="auto-parent"><a href="#auto-parent" title="link to this element">14.2.7. <code>auto_parent</code> macro property</a><span>  | <a href="#toc-auto-parent">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<div class="p" id="p-196"><span class="hide-hover"> <a href="#p-196">ğŸ”—</a></span>Some sequences of macros such as <code>l</code> from <a href="#lists">Lists <code>\l</code></a> and <code>tr</code> from <a href="#tables">Tables <code>\table</code>, <code>\tr</code>, <code>\th</code> and <code>\td</code></a> automatically generate implicit parents, e.g.:
<div><span class="hide-hover"> <a href="#c-112">ğŸ”—</a></span><pre id="c-112"><code>\ul[
\li[aa]
\li[bb]
]
</code></pre></div>

parses exactly like:
<div><span class="hide-hover"> <a href="#c-113">ğŸ”—</a></span><pre id="c-113"><code>\li[aa]
\li[bb]
</code></pre></div>
</div><div class="p" id="p-197"><span class="hide-hover"> <a href="#p-197">ğŸ”—</a></span>The children are always added as arguments of the <code>content</code> argument of the implicit parent.</div><div class="p" id="p-198"><span class="hide-hover"> <a href="#p-198">ğŸ”—</a></span>If present, the <code>auto_parent</code> macro property determines which auto-parent gets added to those macros.</div><h4 id="remove-whitespace-children"><a href="#remove-whitespace-children" title="link to this element">14.2.8. <code>remove_whitespace_children</code> macro argument property</a><span>  | <a href="#toc-remove-whitespace-children">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<div class="p" id="p-199"><span class="hide-hover"> <a href="#p-199">ğŸ”—</a></span>In HTML, certain elements such as <code>&lt;ul&gt;</code> cannot have any <code>text</code> nodes in them, and any whitespace is ignored, see <a href="https://stackoverflow.com/questions/2161337/can-we-use-any-other-tag-inside-ul-along-with-li/60885802#60885802">https://stackoverflow.com/questions/2161337/can-we-use-any-other-tag-inside-ul-along-with-li/60885802#60885802</a>.</div><div class="p" id="p-200"><span class="hide-hover"> <a href="#p-200">ğŸ”—</a></span>A similar concept applies to Cirodown, e.g.:
<div><span class="hide-hover"> <a href="#c-114">ğŸ”—</a></span><pre id="c-114"><code>\ul[
\li[aa]
\li[bb]
]
</code></pre></div>

does not parse as:
<div><span class="hide-hover"> <a href="#c-115">ğŸ”—</a></span><pre id="c-115"><code>\ul[\li[aa]&lt;NEWLINE&gt;\li[bb]&lt;NEWLINE&gt;]
</code></pre></div>

but rather as:
<div><span class="hide-hover"> <a href="#c-116">ğŸ”—</a></span><pre id="c-116"><code>\ul[\li[aa]\li[bb]]
</code></pre></div>

because the <code>content</code> argument of <code>ul</code> is marked with <code>remove_whitespace_children</code> and automatically removes any whitespace children (such as a newline) as a result.</div><div class="p" id="p-201"><span class="hide-hover"> <a href="#p-201">ğŸ”—</a></span>This also applies to consecutive sequences of <a href="#auto-parent"><code>auto_parent</code> macro property</a> macros, e.g.:
<div><span class="hide-hover"> <a href="#c-117">ğŸ”—</a></span><pre id="c-117"><code>\li[aa]
\li[bb]
</code></pre></div>

also does not include the newline between the list items.</div><div class="p" id="p-202"><span class="hide-hover"> <a href="#p-202">ğŸ”—</a></span>The definition of whitespace is the same as the ASCII whitespace definition of HTML5: <code> \r\n\f\t</code>.</div><h4 id="argument-automatic-indentation-removal"><a href="#argument-automatic-indentation-removal" title="link to this element">14.2.9. Argument automatic indentation removal</a><span>  | <a href="#toc-argument-automatic-indentation-removal">â‡‘ toc</a> | <a href="#macro-argument-syntax">â†‘ parent "Macro argument syntax"</a></span></h4>
<div class="p" id="p-203"><span class="hide-hover"> <a href="#p-203">ğŸ”—</a></span>Inside of a non-literal block, the very first non-whitespace character determines the indentation level of the content.</div><div class="p" id="p-204"><span class="hide-hover"> <a href="#p-204">ğŸ”—</a></span>This allows seamlessly indenting complex nested content to make it more readable.</div><div class="p" id="p-205"><span class="hide-hover"> <a href="#p-205">ğŸ”—</a></span>For example, a list with complex content could be written without indentation as:
<div><span class="hide-hover"> <a href="#c-118">ğŸ”—</a></span><pre id="c-118"><code>\l[a]
\l[
b

\C[[
And now some code
]]

And a paragraph.
]
\l[c]
</code></pre></div>

but it would be more readable as the equivalent:
<div><span class="hide-hover"> <a href="#c-119">ğŸ”—</a></span><pre id="c-119"><code>\l[a]
\l[
  b

  \c[[
  And now some code
  ]]

  And a paragraph.
]
\l[c]
</code></pre></div>
</div><div class="p" id="p-206"><span class="hide-hover"> <a href="#p-206">ğŸ”—</a></span>If a something tries to reduce the current indentation level, then that leads to an error:
<div><span class="hide-hover"> <a href="#c-120">ğŸ”—</a></span><pre id="c-120"><code>\l[a]
\l[
  b

I'm bad because I have negative indentation.

  Back to good.
]
\l[c]
</code></pre></div>
</div><h3 id="macro-capitalization-for-block-vs-inline"><a href="#macro-capitalization-for-block-vs-inline" title="link to this element">14.3. Macro capitalization for block vs inline</a><span>  | <a href="#toc-macro-capitalization-for-block-vs-inline">â‡‘ toc</a> | <a href="#cirodown-syntax">â†‘ parent "Cirodown syntax"</a></span></h3>
<div class="p" id="p-207"><span class="hide-hover"> <a href="#p-207">ğŸ”—</a></span>This is just a naming convention without any magic attached to it. It is currently used for macros such as:</div><div><ul id="ul-8">
<div><li id="l-15"><a href="#math">Mathematics <code>$</code>, <code>$$</code>, <code>\m</code> and <code>\M</code></a></li></div><div><li id="l-16"><a href="#code">Code <code>`</code>, <code>``</code>, <code>\c</code> and <code>\C</code></a></li></div><div><li id="l-17"><a href="#comments">Comments</a></li></div></ul></div><div class="p" id="p-208"><span class="hide-hover"> <a href="#p-208">ğŸ”—</a></span>We haven't found a sane way of getting rid of that for now, so just for now just force users to explicitly select between them.</div><div class="p" id="p-209"><span class="hide-hover"> <a href="#p-209">ğŸ”—</a></span>The distinction is required because there are lots of things you cannot put inside paragraphs in HTML.</div><h2 id="tooling"><a href="#tooling" title="link to this element">15. Tooling</a><span>  | <a href="#toc-tooling">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div class="p" id="p-210"><span class="hide-hover"> <a href="#p-210">ğŸ”—</a></span>Unlike all languages which rely on ad-hoc tooling, we will support every single tool that is required and feasible to be in this repository in this repository, in a centralized manner.</div><h3 id="cirodown-executable"><a href="#cirodown-executable" title="link to this element">15.1. <code>cirodown</code> executable</a><span>  | <a href="#toc-cirodown-executable">â‡‘ toc</a> | <a href="#tooling">â†‘ parent "Tooling"</a></span></h3>
<div class="p" id="p-211"><span class="hide-hover"> <a href="#p-211">ğŸ”—</a></span>Convert a <code>.ciro</code> file to HTML and output the HTML to stdout:
<div><span class="hide-hover"> <a href="#c-121">ğŸ”—</a></span><pre id="c-121"><code>cirodown README.ciro
</code></pre></div>
</div><div class="p" id="p-212"><span class="hide-hover"> <a href="#p-212">ğŸ”—</a></span>Convert all <code>.ciro</code> files in a directory to HTML files next to each corresponding <code>.ciro</code> file, e.g. <code>somefile.ciro</code> to <code>somefile.html</code>:
<div><span class="hide-hover"> <a href="#c-122">ğŸ”—</a></span><pre id="c-122"><code>cirodown .
</code></pre></div>
</div><div class="p" id="p-213"><span class="hide-hover"> <a href="#p-213">ğŸ”—</a></span>In order to resolve <a href="#internal-cross-file-references">Internal cross file references</a>, this actually does two passes:
<div><ul id="ul-42">
<div><li id="l-118">first an ID extraction pass, which parses all inputs and dumps their IDs to the ID database</li></div><div><li id="l-119">then a second render pass, which uses the IDs in the ID database</li></div></ul></div></div><div class="p" id="p-214"><span class="hide-hover"> <a href="#p-214">ğŸ”—</a></span>Convert a <code>.ciro</code> file from stdin to HTML and output the contents of <code>&lt;body&gt;</code> to stdout:
<div><span class="hide-hover"> <a href="#c-123">ğŸ”—</a></span><pre id="c-123"><code>printf 'ab\ncd\n' | cirodown --body-only
</code></pre></div>
</div><h4 id="index-files"><a href="#index-files" title="link to this element">15.1.1. Index files</a><span>  | <a href="#toc-index-files">â‡‘ toc</a> | <a href="#cirodown-executable">â†‘ parent "<code>cirodown</code> executable"</a></span></h4>
<div class="p" id="p-215"><span class="hide-hover"> <a href="#p-215">ğŸ”—</a></span>The following basenames are considered "index files":</div><div><ul id="ul-9">
<div><li id="l-18"><code>README.ciro</code></li></div><div><li id="l-19"><code>index.ciro</code></li></div></ul></div><div class="p" id="p-216"><span class="hide-hover"> <a href="#p-216">ğŸ”—</a></span>Those basenames have the following magic properties:</div><div><ul id="ul-10">
<div><li id="l-20">the default output file name for an index file in HTML output is always <code>index.html</code>, including that of <code>README.ciro</code>. This way it will appear on both the root of the HTML output and on the GitHub home page once GitHub adds Cirodown support.</li></div><div><li id="l-21">the default <a href="#the-toplevel-header">toplevel header</a> ID of an index files is derived from the parent directory basename rather than from the source file basename</li></div></ul></div><h4 id="cirodown-executable-options"><a href="#cirodown-executable-options" title="link to this element">15.1.2. <code>cirodown</code> executable options</a><span>  | <a href="#toc-cirodown-executable-options">â‡‘ toc</a> | <a href="#cirodown-executable">â†‘ parent "<code>cirodown</code> executable"</a></span></h4>
<h5 id="dry-run"><a href="#dry-run" title="link to this element">15.1.2.1. <code>--dry-run</code></a><span>  | <a href="#toc-dry-run">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-217"><span class="hide-hover"> <a href="#p-217">ğŸ”—</a></span>The <code>--dry-run</code> option is a good way to debug <a href="#publish"><code>--publish</code> option</a>, as it builds the publish output files without doing any git commands that would be annoying to revert. So after doing:
<div><span class="hide-hover"> <a href="#c-124">ğŸ”—</a></span><pre id="c-124"><code>./cirodown --dry-run --publish .
</code></pre></div>

you can just go and inspect the generated HTML to see what would get pushed at:
<div><span class="hide-hover"> <a href="#c-125">ğŸ”—</a></span><pre id="c-125"><code>cd out/publish/out/publish/
</code></pre></div>
</div><h5 id="generate"><a href="#generate" title="link to this element">15.1.2.2. <code>--generate</code></a><span>  | <a href="#toc-generate">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-218"><span class="hide-hover"> <a href="#p-218">ğŸ”—</a></span>Generate a simple repository template for a new project.</div><div class="p" id="p-219"><span class="hide-hover"> <a href="#p-219">ğŸ”—</a></span>This includes common files that almost all projects will want to have, e.g.:</div><div><ul id="ul-11">
<div><li id="l-22"><code>package.json</code> specifying the Cirodown version</li></div><div><li id="l-23"><code>.gitignore</code> to prevent output from being committed accidentally</li></div></ul></div><div class="p" id="p-220"><span class="hide-hover"> <a href="#p-220">ğŸ”—</a></span>The output provides a hello world setup that is immediately ready to be published e.g. <a href="#publish-to-github-pages">to GitHub pages</a>.</div><h5 id="generate-multifile"><a href="#generate-multifile" title="link to this element">15.1.2.3. <code>--generate-multifile</code></a><span>  | <a href="#toc-generate-multifile">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-221"><span class="hide-hover"> <a href="#p-221">ğŸ”—</a></span>Like <a href="#generate"><code>--generate</code></a>, but generate a more complex template that serves as a good starting point for a multifile website.</div><h5 id="help-macros"><a href="#help-macros" title="link to this element">15.1.2.4. <code>--help-macros</code></a><span>  | <a href="#toc-help-macros">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-222"><span class="hide-hover"> <a href="#p-222">ğŸ”—</a></span>You can get an overview of all macros in JSON format with:
<div><span class="hide-hover"> <a href="#c-126">ğŸ”—</a></span><pre id="c-126"><code>cirodown --help-macros
</code></pre></div>
</div><h5 id="html-embed"><a href="#html-embed" title="link to this element">15.1.2.5. <code>--html-embed</code></a><span>  | <a href="#toc-html-embed">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-223"><span class="hide-hover"> <a href="#p-223">ğŸ”—</a></span>Embed as many external resources as possible into a single HTML file.</div><div class="p" id="p-224"><span class="hide-hover"> <a href="#p-224">ğŸ”—</a></span>The use case for this option is to produce a single HTML file for an entire build that is fully self contained, and can therefore be given to consumers and viewed offline, much like a PDF.</div><div class="p" id="p-225"><span class="hide-hover"> <a href="#p-225">ğŸ”—</a></span>Examples of embeddings done:</div><div><ul id="ul-12">
<div><li id="l-24"><div class="p" id="p-395"><span class="hide-hover"> <a href="#p-395">ğŸ”—</a></span>  CSS and JavaScript are copy pasted in place into the HTML.</div><div class="p" id="p-396"><span class="hide-hover"> <a href="#p-396">ğŸ”—</a></span>  The default built-in CSS and JavaScript files used by Cirodown (e.g. the KaTeX CSS <a href="#math">used for mathematics</a>) are currently all automatically downloaded as NPM package dependencies to cirodown</div><div class="p" id="p-397"><span class="hide-hover"> <a href="#p-397">ğŸ”—</a></span>  Without <code>--html-embed</code>, those CSS and JavaScript use their main cloud CDN URLs, and therefore require Internet connection to view the generated documents.</div><div class="p" id="p-398"><span class="hide-hover"> <a href="#p-398">ğŸ”—</a></span>  The embeded version of the document can be viewed offline however.
</div></li></div><div><li id="l-25"><div class="p" id="p-399"><span class="hide-hover"> <a href="#p-399">ğŸ”—</a></span>  <a href="#images">images</a> are downloaded if needed and embedded as <code>data:</code> URLs.</div><div class="p" id="p-400"><span class="hide-hover"> <a href="#p-400">ğŸ”—</a></span>  Images that are managed by the project itself and already locally present, such as those inside the project itself or due to <a href="#media-source-type"><code>media_source_type</code></a> usually don't require download.</div><div class="p" id="p-401"><span class="hide-hover"> <a href="#p-401">ğŸ”—</a></span>  For images linked directly from the web, we maintain a local download cache, and skip downloads if the image is already in the cache.</div><div class="p" id="p-402"><span class="hide-hover"> <a href="#p-402">ğŸ”—</a></span>  To re-download due to image updates, use either:</div><div class="p" id="p-403"><span class="hide-hover"> <a href="#p-403">ğŸ”—</a></span>  <div><ul id="ul-53">
<div><li id="l-153"><code>--asset-cache-update</code>: download all images such that the local disk timestamp is older than the HTTP modification date with <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since"><code>If-Modified-Since</code></a></li></div><div><li id="l-154"><code>--asset-cache-update-force</code>: forcefully redownload all assets</li></div></ul></div></div></li></div></ul></div><div class="p" id="p-226"><span class="hide-hover"> <a href="#p-226">ğŸ”—</a></span>Keep in mind that certain things can never be embedded, e.g.:</div><div><ul id="ul-13">
<div><li id="l-26">YouTube videos, since YouTube does not offer any download API</li></div></ul></div><h5 id="html-single-page"><a href="#html-single-page" title="link to this element">15.1.2.6. <code>--html-single-page</code></a><span>  | <a href="#toc-html-single-page">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-227"><span class="hide-hover"> <a href="#p-227">ğŸ”—</a></span>If given:</div><div><ul id="ul-14">
<div><li id="l-27">the <a href="#includes"><code>include</code></a> macro parses the target file to be included and includes it in-place</li></div><div><li id="l-28"><div class="p" id="p-404"><span class="hide-hover"> <a href="#p-404">ğŸ”—</a></span><a href="#internal-cross-file-references">Internal cross file references</a> are disabled, and the cross file ID database does not get updated.</div><div class="p" id="p-405"><span class="hide-hover"> <a href="#p-405">ğŸ”—</a></span>It should be possible to work around this, but we are starting with the simplest implementation that forbids it.</div><div class="p" id="p-406"><span class="hide-hover"> <a href="#p-406">ğŸ”—</a></span>The problem those cause is that the IDs of included headers show as duplicate IDs of those in the ID database.</div><div class="p" id="p-407"><span class="hide-hover"> <a href="#p-407">ğŸ”—</a></span>This should be OK to start with because the more common use case with <code>--html-sinle-page</code> is that of including all headers in a single document.
</div></li></div></ul></div><div class="p" id="p-228"><span class="hide-hover"> <a href="#p-228">ğŸ”—</a></span>Otherwise, <code>include</code> only adds the headers of the other file to the table of contents of the current one, but not the body of the other file. The ToC entries then point to the headers of the included external files.</div><div class="p" id="p-229"><span class="hide-hover"> <a href="#p-229">ğŸ”—</a></span>You may want to use this option together with <a href="#html-embed"><code>--html-embed</code></a> to produce fully self-contained individual HTML files for your project.</div><h5 id="html-x-no-extension"><a href="#html-x-no-extension" title="link to this element">15.1.2.7. <code>--no-html-x-extension</code></a><span>  | <a href="#toc-html-x-no-extension">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-230"><span class="hide-hover"> <a href="#p-230">ğŸ”—</a></span>If not given, <a href="#internal-cross-references">Internal cross references <code>\x</code></a> render with the <code>.html</code> extension as in:
<div><span class="hide-hover"> <a href="#c-127">ğŸ”—</a></span><pre id="c-127"><code>&lt;a href=not-readme.html#h2-in-not-the-readme&gt;
</code></pre></div>
</div><div class="p" id="p-231"><span class="hide-hover"> <a href="#p-231">ğŸ”—</a></span>This way, those links will work when rendering locally to <code>.html</code> files which is the default behaviour of:
<div><span class="hide-hover"> <a href="#c-128">ğŸ”—</a></span><pre id="c-128"><code>cirodown .
</code></pre></div>
</div><div class="p" id="p-232"><span class="hide-hover"> <a href="#p-232">ğŸ”—</a></span>If given however, the links render without the <code>.html</code> as in:
<div><span class="hide-hover"> <a href="#c-129">ğŸ”—</a></span><pre id="c-129"><code>&lt;a href=not-readme#h2-in-not-the-readme&gt;
</code></pre></div>

which is what is needed for servers such as GitHub Pages, which automatically remove the <code>.html</code> extension from paths.</div><div class="p" id="p-233"><span class="hide-hover"> <a href="#p-233">ğŸ”—</a></span>This option is automatically implied when publishing to targets that remove the <code>.html</code> extension such as GitHub pages.</div><h5 id="outfile"><a href="#outfile" title="link to this element">15.1.2.8. <code>--outfile &lt;outfie&gt;</code></a><span>  | <a href="#toc-outfile">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-234"><span class="hide-hover"> <a href="#p-234">ğŸ”—</a></span>Save the output to a given file instead of outputting to stdout:
<div><span class="hide-hover"> <a href="#c-130">ğŸ”—</a></span><pre id="c-130"><code>./cirodown --outfile not-readme.html not-readme.ciro
</code></pre></div>
</div><div class="p" id="p-235"><span class="hide-hover"> <a href="#p-235">ğŸ”—</a></span>The generated output is slightly different than that of:
<div><span class="hide-hover"> <a href="#c-131">ğŸ”—</a></span><pre id="c-131"><code>./cirodown not-readme.ciro &gt; not-readme.html
</code></pre></div>

because with <code>--outfile</code> we know where the output is going, and so we can generate relative includes to default CSS/JavaScript files.</div><h5 id="publish"><a href="#publish" title="link to this element">15.1.2.9. <code>--publish</code></a><span>  | <a href="#toc-publish">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-236"><span class="hide-hover"> <a href="#p-236">ğŸ”—</a></span>Cirodown tooling is so amazing that we also take care of the HTML publishing for you!</div><div class="p" id="p-237"><span class="hide-hover"> <a href="#p-237">ğŸ”—</a></span>Once publish target is properly setup, all you have to do is run:
<div><span class="hide-hover"> <a href="#c-132">ğŸ”—</a></span><pre id="c-132"><code>git add README.ciro
git commit -m 'more content!'
cirodown --publish
</code></pre></div>

and your changes will be published to the  default target specified in <a href="#cirodown-json"><code>cirodown.json</code></a>.</div><div class="p" id="p-238"><span class="hide-hover"> <a href="#p-238">ğŸ”—</a></span>If not specified, the default target is <a href="#publish-to-github-pages">Publish to GitHub Pages</a>.</div><div class="p" id="p-239"><span class="hide-hover"> <a href="#p-239">ğŸ”—</a></span>Only changes committed to Git are pushed.</div><div class="p" id="p-240"><span class="hide-hover"> <a href="#p-240">ğŸ”—</a></span>Files that <code>cirodown</code> knows how to process get processed and only their outputs are added to the published repo, those file types are:
<div><ul id="ul-43">
<div><li id="l-120"><code>.ciro</code> files are converted to <code>.html</code></li></div><div><li id="l-121"><code>.scss</code> files are converted to <code>.css</code></li></div></ul></div>
Every other Git-tracked file is pushed as is.</div><div class="p" id="p-241"><span class="hide-hover"> <a href="#p-241">ğŸ”—</a></span>When <code>--publish</code> is given, stdin input is not accepted, and so the current directory is built by default, i.e. the following two are equivalent:
<div><span class="hide-hover"> <a href="#c-133">ğŸ”—</a></span><pre id="c-133"><code>./cirodown --publish
./cirodown --publish .
</code></pre></div>
</div><div class="p" id="p-242"><span class="hide-hover"> <a href="#p-242">ğŸ”—</a></span>Publishing only happens if the build has no errors.</div><h6 id="publish-to-github-pages"><a href="#publish-to-github-pages" title="link to this element">15.1.2.9.1. Publish to GitHub Pages</a><span>  | <a href="#toc-publish-to-github-pages">â‡‘ toc</a> | <a href="#publish">â†‘ parent "<code>--publish</code>"</a></span></h6>
<div class="p" id="p-243"><span class="hide-hover"> <a href="#p-243">ğŸ”—</a></span><a href="https://pages.github.com/">GitHub pages</a> is the default Cirodown publish target.</div><div class="p" id="p-244"><span class="hide-hover"> <a href="#p-244">ğŸ”—</a></span>The first step is of course to create the GitHub repository that will contain your GitHub pages as usual.</div><div class="p" id="p-245"><span class="hide-hover"> <a href="#p-245">ğŸ”—</a></span>Then, if you want to publish your root user page, which appears at <code>/</code> (e.g. <a href="https://github.com/cirosantilli/cirosantilli.github.io">https://github.com/cirosantilli/cirosantilli.github.io</a> for the user <code>cirosantilli</code>), GitHub annoyingly forces you to use the <code>master</code> branch for the HTML output:
<div><ul id="ul-44">
<div><li id="l-122">https://github.com/isaacs/github/issues/212</li></div><div><li id="l-123">https://stackoverflow.com/questions/31439951/how-can-i-use-a-branch-other-than-master-for-user-github-pages</li></div></ul></div></div><div class="p" id="p-246"><span class="hide-hover"> <a href="#p-246">ğŸ”—</a></span>This means that you must place your <code>.ciro</code> input files in a branch other than <code>master</code> to clear up <code>master</code> for the generated HTML.</div><div class="p" id="p-247"><span class="hide-hover"> <a href="#p-247">ğŸ”—</a></span><code>cirodown</code> automatically detects if your repository ois a root repository or not by parsing <code>git remote</code> output, but you must setup the branches correctly yourself.</div><div class="p" id="p-248"><span class="hide-hover"> <a href="#p-248">ğŸ”—</a></span>So on a new repository, you must <a href="https://stackoverflow.com/questions/42871542/how-to-create-a-git-repository-with-the-default-branch-name-other-than-master">first checkout to a different branch</a> as in:
<div><span class="hide-hover"> <a href="#c-134">ğŸ”—</a></span><pre id="c-134"><code>git init
git checkout -b dev
</code></pre></div>

or to move an existing repository to a non-master branch:
<div><span class="hide-hover"> <a href="#c-135">ğŸ”—</a></span><pre id="c-135"><code>git checkout -b dev
git push origin dev:dev
git branch -D master
git push --delete origin master
</code></pre></div>
</div><div class="p" id="p-249"><span class="hide-hover"> <a href="#p-249">ğŸ”—</a></span>You then will also want to set your default repository branch to <code>dev</code> in the settings for that repository: <a href="https://help.github.com/en/github/administering-a-repository/setting-the-default-branch">https://help.github.com/en/github/administering-a-repository/setting-the-default-branch</a></div><div class="p" id="p-250"><span class="hide-hover"> <a href="#p-250">ğŸ”—</a></span>For non-root GitHub pages, no special setup is needed, <code>cirodown</code> automatically populates the <code>gh-pages</code> branch for you.</div><div class="p" id="p-251"><span class="hide-hover"> <a href="#p-251">ğŸ”—</a></span>Once the repository branch is setup, we can just <a href="#generate">generate the repository template with <code>--generate</code></a>, make a commit, and immediately publish!
<div><span class="hide-hover"> <a href="#c-136">ğŸ”—</a></span><pre id="c-136"><code>cirodown --generate
git add .
git commit --message 'initial commit from template'
cirodown --publish .
</code></pre></div>
</div><h5 id="publish-commit"><a href="#publish-commit" title="link to this element">15.1.2.10. <code>--publish-commit &lt;commit-message&gt;</code></a><span>  | <a href="#toc-publish-commit">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-252"><span class="hide-hover"> <a href="#p-252">ğŸ”—</a></span>Like <a href="#publish"><code>--publish</code></a>, but also automatically:</div><div><ul id="ul-15">
<div><li id="l-29"><code>git add -u</code> to automatically add change to any files that have been previously git tracked</li></div><div><li id="l-30"><code>git commit -m &lt;commit-message&gt;</code> to create a new commit with those changes</li></div></ul></div><div class="p" id="p-253"><span class="hide-hover"> <a href="#p-253">ğŸ”—</a></span>This allows you to publish your changes live in a single command such as:
<div><span class="hide-hover"> <a href="#c-137">ğŸ”—</a></span><pre id="c-137"><code>cirodown --publish-commit 'my amazing change' .
</code></pre></div>
</div><div class="p" id="p-254"><span class="hide-hover"> <a href="#p-254">ğŸ”—</a></span>With great power comes great responsibility of course, but who cares!</div><h5 id="watch"><a href="#watch" title="link to this element">15.1.2.11. <code>--watch</code></a><span>  | <a href="#toc-watch">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-255"><span class="hide-hover"> <a href="#p-255">ğŸ”—</a></span>Don't quit <code>cirodown</code> immediately.</div><div class="p" id="p-256"><span class="hide-hover"> <a href="#p-256">ğŸ”—</a></span>Instead, watch the selected file or directory for changes, and rebuild individual files when changes are detected.</div><div class="p" id="p-257"><span class="hide-hover"> <a href="#p-257">ğŸ”—</a></span>Watch a single file:
<div><span class="hide-hover"> <a href="#c-138">ğŸ”—</a></span><pre id="c-138"><code>cirodown --watch README.ciro
</code></pre></div>
</div><div class="p" id="p-258"><span class="hide-hover"> <a href="#p-258">ğŸ”—</a></span>Now you can just edit <code>README.ciro</code>, save the file in your editor, and refresh the webpage and your change should be visible, no need to run a <code>cirodown</code> command excplicitly every time.</div><div class="p" id="p-259"><span class="hide-hover"> <a href="#p-259">ğŸ”—</a></span>TODO: integrate Live Preview: https://asciidoctor.org/docs/editing-asciidoc-with-live-preview/ to also dispense the browser refresh.</div><div class="p" id="p-260"><span class="hide-hover"> <a href="#p-260">ğŸ”—</a></span>Watch every <code>.ciro</code> file in an entire directory:
<div><span class="hide-hover"> <a href="#c-139">ğŸ”—</a></span><pre id="c-139"><code>cirodown --watch .
</code></pre></div>
</div><div class="p" id="p-261"><span class="hide-hover"> <a href="#p-261">ğŸ”—</a></span>This automatically first does a first ID extraction pass on all files to support <a href="#internal-cross-file-references">Internal cross file references</a>.</div><div class="p" id="p-262"><span class="hide-hover"> <a href="#p-262">ğŸ”—</a></span>The output of conversion to <code>.html</code> files is saved automatically instead of outputting it to stdout as done without <code>--watch</code>.</div><div class="p" id="p-263"><span class="hide-hover"> <a href="#p-263">ğŸ”—</a></span>Exit by entering Ctrl + C on the terminal.</div><h5 id="template"><a href="#template" title="link to this element">15.1.2.12. <code>--template</code></a><span>  | <a href="#toc-template">â‡‘ toc</a> | <a href="#cirodown-executable-options">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
<div class="p" id="p-264"><span class="hide-hover"> <a href="#p-264">ğŸ”—</a></span>Select a custom <a href="https://github.com/harttle/liquidjs">Liquid template</a> file for the output.</div><div class="p" id="p-265"><span class="hide-hover"> <a href="#p-265">ğŸ”—</a></span>The recommended file name for this file is <code>main.liquid.html</code>, which is already ignored by default from the published output.</div><div class="p" id="p-266"><span class="hide-hover"> <a href="#p-266">ğŸ”—</a></span>If not given, the default template at one point was:
<div><span class="hide-hover"> <a href="#c-140">ğŸ”—</a></span><pre id="c-140"><code>&lt;!doctype html&gt;
&lt;html lang=en&gt;
&lt;head&gt;
&lt;meta charset=utf-8&gt;
&lt;title&gt;{{ title }}&lt;/title&gt;
&lt;style&gt;{{ style }}&lt;/style&gt;
&lt;body class="cirodown"&gt;
{{ body }}
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div>

This will get out of sync sooner or later with the code, but this should still serve as a good base example for this documentation.</div><div class="p" id="p-267"><span class="hide-hover"> <a href="#p-267">ğŸ”—</a></span>Defined variables:
<div><ul id="ul-45">
<div><li id="l-124"><code>body</code>: the rendered body</li></div><div><li id="l-125"><code>git_sha</code>: SHA of the latest git commit of the source code if in a git repository</li></div><div><li id="l-126"><code>style</code>: default Cirodown stylesheets</li></div><div><li id="l-127"><code>title</code></li></div></ul></div></div><div class="p" id="p-268"><span class="hide-hover"> <a href="#p-268">ğŸ”—</a></span>We pick Liquid because it is server-side safe: if we ever some day offer a compilation service, Liquid is designed to prevent arbitrary code execution and infinite loops in templates.</div><h4 id="cirodown-json"><a href="#cirodown-json" title="link to this element">15.1.3. <code>cirodown.json</code></a><span>  | <a href="#toc-cirodown-json">â‡‘ toc</a> | <a href="#cirodown-executable">â†‘ parent "<code>cirodown</code> executable"</a></span></h4>
<h5 id="prepublish"><a href="#prepublish" title="link to this element">15.1.3.1. <code>prepublish</code></a><span>  | <a href="#toc-prepublish">â‡‘ toc</a> | <a href="#cirodown-json">â†‘ parent "<code>cirodown.json</code>"</a></span></h5>
<div class="p" id="p-269"><span class="hide-hover"> <a href="#p-269">ğŸ”—</a></span>Path of a script that gets executed before running <a href="#publish"><code>cirodown --publish</code></a>.</div><div class="p" id="p-270"><span class="hide-hover"> <a href="#p-270">ğŸ”—</a></span>The script arguments are:</div><div><ul id="ul-16">
<div><li id="l-31"><div class="p" id="p-408"><span class="hide-hover"> <a href="#p-408">ğŸ”—</a></span>the publish output directory.</div><div class="p" id="p-409"><span class="hide-hover"> <a href="#p-409">ğŸ”—</a></span>That directory is guaranteed to exist when <code>prepublish</code> is called.</div><div class="p" id="p-410"><span class="hide-hover"> <a href="#p-410">ğŸ”—</a></span>For <code>git</code>-based publish targets, all files are almost ready in there, just waiting for a <code>git add .</code> that follows <code>prepublish</code>.</div><div class="p" id="p-411"><span class="hide-hover"> <a href="#p-411">ğŸ”—</a></span>This means that you can use this script to place or remove files from the final publish output.</div></li></div></ul></div><div class="p" id="p-271"><span class="hide-hover"> <a href="#p-271">ğŸ”—</a></span>If the <code>prepublish</code> script returns with a non-zero exit value, the publish is aborted.</div><h5 id="media-source-type"><a href="#media-source-type" title="link to this element">15.1.3.2. <code>media_source_type</code></a><span>  | <a href="#toc-media-source-type">â‡‘ toc</a> | <a href="#cirodown-json">â†‘ parent "<code>cirodown.json</code>"</a></span></h5>
<div class="p" id="p-272"><span class="hide-hover"> <a href="#p-272">ğŸ”—</a></span>TODO implement</div><div><ul id="ul-17">
<div><li id="l-32"><code>local</code>: tracked in the current Git repository, no further magic is done</li></div><div><li id="l-33"><div class="p" id="p-412"><span class="hide-hover"> <a href="#p-412">ğŸ”—</a></span>  <code>media_repo</code>: tracked in a separate media repository, defaults to <code>../&lt;project-name&gt;-media/</code></div><div class="p" id="p-413"><span class="hide-hover"> <a href="#p-413">ğŸ”—</a></span>  When <a href="#publish">publishing</a>, Cirodown searches for files that were used in the build but not added to the media directory, and automatically does a <code>git add</code>, <code>commit</code> and <code>push</code> for you!
</div></li></div></ul></div><h5 id="media-base-url"><a href="#media-base-url" title="link to this element">15.1.3.3. <code>media_base_url</code></a><span>  | <a href="#toc-media-base-url">â‡‘ toc</a> | <a href="#cirodown-json">â†‘ parent "<code>cirodown.json</code>"</a></span></h5>
<div class="p" id="p-273"><span class="hide-hover"> <a href="#p-273">ğŸ”—</a></span>TODO implement set the base URL where media will be served from.</div><div class="p" id="p-274"><span class="hide-hover"> <a href="#p-274">ğŸ”—</a></span>Default: for a GitHub repository called <code>my-tutorial</code>, append the <code>-media</code> suffix and use <code>my-tutorial-media</code>.</div><div class="p" id="p-275"><span class="hide-hover"> <a href="#p-275">ğŸ”—</a></span>Further rationale at: <a href="#where-to-store-images">Where to store images</a>.</div><h3 id="editor-with-preview"><a href="#editor-with-preview" title="link to this element">15.2. Editor with preview</a><span>  | <a href="#toc-editor-with-preview">â‡‘ toc</a> | <a href="#tooling">â†‘ parent "Tooling"</a></span></h3>
<div class="p" id="p-276"><span class="hide-hover"> <a href="#p-276">ğŸ”—</a></span>TODO</div><div class="p" id="p-277"><span class="hide-hover"> <a href="#p-277">ğŸ”—</a></span>We must achieve an editor setup with synchronized live side-by-side preview.</div><div class="p" id="p-278"><span class="hide-hover"> <a href="#p-278">ğŸ”—</a></span>Likely, we will first do a non WYSIWYG editor with side by side preview with scroll sync.</div><div class="p" id="p-279"><span class="hide-hover"> <a href="#p-279">ğŸ”—</a></span>Then, if the project picks up steam, we can start considering a full WYSISYG.</div><div class="p" id="p-280"><span class="hide-hover"> <a href="#p-280">ğŸ”—</a></span>It would be amazing to have a WebKit interface that works both on browser for the and locally.</div><div class="p" id="p-281"><span class="hide-hover"> <a href="#p-281">ğŸ”—</a></span>Possibilities we could reuse:</div><div><ul id="ul-18">
<div><li id="l-34"><div class="p" id="p-414"><span class="hide-hover"> <a href="#p-414">ğŸ”—</a></span>  Editor.js</div><div class="p" id="p-415"><span class="hide-hover"> <a href="#p-415">ğŸ”—</a></span>  Returns JSON AST!</div><div class="p" id="p-416"><span class="hide-hover"> <a href="#p-416">ğŸ”—</a></span>  <div><ul id="ul-54">
<div><li id="l-155">website: https://editorjs.io/ json output</li></div><div><li id="l-156">source: https://github.com/codex-team/editor.js</li></div><div><li id="l-157">WYSIWYG: no</li></div><div><li id="l-158">preview scroll sync: yes</li></div></ul></div></div></li></div><div><li id="l-35"><div class="p" id="p-417"><span class="hide-hover"> <a href="#p-417">ğŸ”—</a></span>  StackEdit</div><div class="p" id="p-418"><span class="hide-hover"> <a href="#p-418">ğŸ”—</a></span>  <div><ul id="ul-55">
<div><li id="l-159">website: <a href="https://stackedit.io">https://stackedit.io</a></li></div><div><li id="l-160">source: https://github.com/benweet/stackedit</li></div><div><li id="l-161">demo: https://stackedit.io/app</li></div><div><li id="l-162">WYSIWYG: no</li></div><div><li id="l-163">preview scroll sync: yes</li></div></ul></div></div></li></div><div><li id="l-36"><div class="p" id="p-419"><span class="hide-hover"> <a href="#p-419">ğŸ”—</a></span>  Editor.md</div><div class="p" id="p-420"><span class="hide-hover"> <a href="#p-420">ğŸ”—</a></span>  <div><ul id="ul-56">
<div><li id="l-164">website: <a href="https://github.com/pandao/editor.md">https://github.com/pandao/editor.md</a></li></div><div><li id="l-165">source: <a href="https://github.com/pandao/editor.md">https://github.com/pandao/editor.md</a></li></div><div><li id="l-166">demo: <a href="https://pandao.github.io/editor.md">https://pandao.github.io/editor.md</a></li></div><div><li id="l-167">WYSIWYG: no</li></div><div><li id="l-168">preview scroll sync: yes but buggy when tested 2019-12-12 on live website</li></div></ul></div></div></li></div><div><li id="l-37"><div class="p" id="p-421"><span class="hide-hover"> <a href="#p-421">ğŸ”—</a></span>  Quill.md</div><div class="p" id="p-422"><span class="hide-hover"> <a href="#p-422">ğŸ”—</a></span>  <div><ul id="ul-57">
<div><li id="l-169">website: <a href="https://quilljs.com">https://quilljs.com</a></li></div><div><li id="l-170">source: <a href="https://github.com/pandao/editor.md">https://github.com/pandao/editor.md</a></li></div><div><li id="l-171">demo: <a href="https://pandao.github.io/editor.md">https://pandao.github.io/editor.md</a></li></div><div><li id="l-172">WYSIWYG: yes</li></div><div><li id="l-173">markdown output: no https://github.com/quilljs/quill/issues/74</li></div></ul></div></div></li></div><div><li id="l-38">https://ui.toast.com/tui-editor/</li></div><div><li id="l-39">https://www.froala.com/wysiwyg-editor</li></div></ul></div><h2 id="developing-cirodown"><a href="#developing-cirodown" title="link to this element">16. Developing Cirodown</a><span>  | <a href="#toc-developing-cirodown">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<h3 id="test-system"><a href="#test-system" title="link to this element">16.1. Test system</a><span>  | <a href="#toc-test-system">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<div class="p" id="p-282"><span class="hide-hover"> <a href="#p-282">ğŸ”—</a></span>Run all tests:
<div><span class="hide-hover"> <a href="#c-141">ğŸ”—</a></span><pre id="c-141"><code>npm test
</code></pre></div>
</div><div class="p" id="p-283"><span class="hide-hover"> <a href="#p-283">ğŸ”—</a></span>List all tests:
<div><span class="hide-hover"> <a href="#c-142">ğŸ”—</a></span><pre id="c-142"><code>node node_modules/mocha-list-tests/mocha-list-tests.js main.js
</code></pre></div>

as per: <a href="https://stackoverflow.com/questions/41380137/list-all-mocha-tests-without-executing-them/58573986#58573986">https://stackoverflow.com/questions/41380137/list-all-mocha-tests-without-executing-them/58573986#58573986</a>.</div><div class="p" id="p-284"><span class="hide-hover"> <a href="#p-284">ğŸ”—</a></span>Run just one test by name:
<div><span class="hide-hover"> <a href="#c-143">ğŸ”—</a></span><pre id="c-143"><code>npm test -- 'one paragraph'
</code></pre></div>

as per: https://stackoverflow.com/questions/10832031/how-to-run-a-single-test-with-mocha TODO: what if the test name is a substring?</div><div class="p" id="p-285"><span class="hide-hover"> <a href="#p-285">ğŸ”—</a></span>Step debug during a test run. Add the statement:
<div><span class="hide-hover"> <a href="#c-144">ğŸ”—</a></span><pre id="c-144"><code>debugger;
</code></pre></div>

to where you want to break in the code, and then:
<div><span class="hide-hover"> <a href="#c-145">ğŸ”—</a></span><pre id="c-145"><code>node inspect ./node_modules/.bin/mocha test --ignore-leaks -g 'p with id before'
</code></pre></div>
</div><h3 id="overview-of-files-in-this-repository"><a href="#overview-of-files-in-this-repository" title="link to this element">16.2. Overview of files in this repository</a><span>  | <a href="#toc-overview-of-files-in-this-repository">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<div class="p" id="p-286"><span class="hide-hover"> <a href="#p-286">ğŸ”—</a></span>Source files:</div><div><ul id="ul-19">
<div><li id="l-40"><a href="index.js">index.js</a>: main code. Must be able to run in the browser, so no Node.js specifics. Exposes the central <code>convert</code> function</li></div><div><li id="l-41"><a href="cirodown">cirodown</a>: CLI executable. Is basically just a CLI interface frontend to <code>convert</code></li></div><div><li id="l-42"><a href="test.js">test.js</a>: contains all the Mocha tests, see also: <a href="#test-system">Test system</a></li></div><div><li id="l-43"><a href="README.md">README.md</a>: minimal Markdown README until GitHub / NPM support Cirodown :-)</li></div></ul></div><div class="p" id="p-287"><span class="hide-hover"> <a href="#p-287">ğŸ”—</a></span>Generated files:</div><div><ul id="ul-20">
<div><li id="l-44"><code>cirodown.js</code> packaged <a href="http://browserify.org/">browserify</a> JavaScript for browser usage, generated with <code>npm run browserify</code></li></div></ul></div><h4 id="build-sass"><a href="#build-sass" title="link to this element">16.2.1. <code>build-sass</code></a><span>  | <a href="#toc-build-sass">â‡‘ toc</a> | <a href="#overview-of-files-in-this-repository">â†‘ parent "Overview of files in this repository"</a></span></h4>
<div class="p" id="p-288"><span class="hide-hover"> <a href="#p-288">ğŸ”—</a></span>The <a href="build-sass">build-sass</a> script takes as input the <a href="cirodown.scss">cirodown.scss</a> <a href="https://sass-lang.com/">SASS</a> scss file, and generates various <code>.css</code> versions from it required to properly view generated Cirodown HTML:</div><div><ul id="ul-21">
<div><li id="l-45"><code>cirodown.min.css</code>: contains the converted <code>cirodown.scss</code> plus online <code>@import</code> requests for stuff like <a href="#math">KaTeX</a></li></div><div><li id="l-46"><code>cirodown.embed.min.css</code>: like <code>cirodown.min.css</code> but embeds all external CSS in-place without any <code>@import</code>. Used to distribute standalone pages: <a href="#html-embed"><code>--html-embed</code></a></li></div><div><li id="l-47"><code>cirodown.local.min.css</code>: only includes style generated from <code>cirodown.scss</code>, not external styles. Used when the external styles are present locally, e.g. via <code>node_modules</code>. I think this was done because <a href="https://stackoverflow.com/questions/34139675/css-import-not-working-for-local-file-file-path-is-correct"><code>@import</code></a> was not working with local flies?</li></div></ul></div><h3 id="internals-api"><a href="#internals-api" title="link to this element">16.3. Internals API</a><span>  | <a href="#toc-internals-api">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<div class="p" id="p-289"><span class="hide-hover"> <a href="#p-289">ğŸ”—</a></span>Tokenized token stream and AST can be obtained as JSON from the API.</div><div class="p" id="p-290"><span class="hide-hover"> <a href="#p-290">ğŸ”—</a></span>Errors can be obtained as JSON from the API.</div><div class="p" id="p-291"><span class="hide-hover"> <a href="#p-291">ğŸ”—</a></span>Everything that you need to write Cirodown tooling, is present in the main API.</div><div class="p" id="p-292"><span class="hide-hover"> <a href="#p-292">ğŸ”—</a></span>All tooling will be merged into one single repo.</div><h3 id="toplevel"><a href="#toplevel" title="link to this element">16.4. The <code>\toplevel</code> implicit macro</a><span>  | <a href="#toc-toplevel">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<div class="p" id="p-293"><span class="hide-hover"> <a href="#p-293">ğŸ”—</a></span>Every Cirodown document is implicitly put inside a <code>\toplevel</code> document and:
<div><ul id="ul-46">
<div><li id="l-128">any optionally given arguments at the very beginning of the document will be treated as arguments of the <code>\toplevel</code> macro</li></div><div><li id="l-129">anything else will be put inside the <code>content</code> argument of the <code>\toplevel</code> macro</li></div></ul></div></div><div class="p" id="p-294"><span class="hide-hover"> <a href="#p-294">ğŸ”—</a></span>E.g., a Cirodown document that contains:
<div><span class="hide-hover"> <a href="#c-146">ğŸ”—</a></span><pre id="c-146"><code>[title=My favorite title]

And now, some content!
</code></pre></div>
</div><div class="p" id="p-295"><span class="hide-hover"> <a href="#p-295">ğŸ”—</a></span>is morally equivalent to:
<div><span class="hide-hover"> <a href="#c-147">ğŸ”—</a></span><pre id="c-147"><code>\toplevel
[title=My favorite title]
[
And now, some content!
]
</code></pre></div>

In terms of HTML, the <code>\toplevel</code> element corresponds to the <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>, <code>&lt;header&gt;</code> and <code>&lt;footer&gt;</code> elements of a document.</div><h4 id="html-document-title"><a href="#html-document-title" title="link to this element">16.4.1. HTML document title</a><span>  | <a href="#toc-html-document-title">â‡‘ toc</a> | <a href="#toplevel">â†‘ parent "The <code>\toplevel</code> implicit macro"</a></span></h4>
<div><ul id="ul-22">
<div><li id="l-48">if the <code>title</code> argument of <code>toplevel</code> is given, use that</li></div><div><li id="l-49">otherwise, if the document has a <code>\h[1]</code>, use the title of the first such header</li></div><div><li id="l-50">otherwise use a dummy value</li></div></ul></div><h3 id="css"><a href="#css" title="link to this element">16.5. CSS</a><span>  | <a href="#toc-css">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<div class="p" id="p-296"><span class="hide-hover"> <a href="#p-296">ğŸ”—</a></span>Our CSS is located at <a href="main.scss">main.scss</a> and gets processed through <a href="https://sass-lang.com/">Sass</a>.</div><div class="p" id="p-297"><span class="hide-hover"> <a href="#p-297">ğŸ”—</a></span>To generate the CSS during development after any changes to that file, you must run:
<div><span class="hide-hover"> <a href="#c-148">ğŸ”—</a></span><pre id="c-148"><code>npm sass
</code></pre></div>
</div><h3 id="formal-grammar"><a href="#formal-grammar" title="link to this element">16.6. Formal grammar</a><span>  | <a href="#toc-formal-grammar">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<div class="p" id="p-298"><span class="hide-hover"> <a href="#p-298">ğŸ”—</a></span>TODO. Describe Cirodown's formal grammar, and classify it in the grammar hierarchy and parsing complexity.</div><h3 id="todo"><a href="#todo" title="link to this element">16.7. TODO</a><span>  | <a href="#toc-todo">â‡‘ toc</a> | <a href="#developing-cirodown">â†‘ parent "Developing Cirodown"</a></span></h3>
<div><ul id="ul-23">
<div><li id="l-51">expose git revision, especially to multipage template</li></div><div><li id="l-52">multipage template language that cannot run forever like Liquid. Maybe: <a href="https://github.com/janl/mustache.js/">https://github.com/janl/mustache.js/</a></li></div><div><li id="l-53">cirodown : google analytics</li></div><div><li id="l-54">custom header, footer and HEAD based on files like header.html, footer.html</li></div><div><li id="l-55"><a href="#id-scope">id_scope</a></li></div><div><li id="l-56">list and code caption</li></div><div><li id="l-57">image description and source</li></div><div><li id="l-58">input indentation skip</li></div><div><li id="l-59">correct ID generation algorithm to be Unicode robust</li></div><div><li id="l-60">local downloads and single HTML page with image / script embeds</li></div><div><li id="l-61">image management: upload to separate media directory</li></div><div><li id="l-62">handle ID calculation from title if title has HTML elements, e.g. headers with code. Use that for the title as well. This has to be done with a context argument that makes implementing macros output just the text without tags</li></div><div><li id="l-63">autolinks http</li></div><div><li id="l-64">paragraphs rendered as divs, can show anything inside e.g. lists, code blocks</li></div><div><li id="l-65">create mechanism to link to the GitHub blob view of in-tree source files that are not added to GitHub pages, e.g. <code>\file</code></li></div><div><li id="l-66">avoid infinite recursion with xref</li></div><div><li id="l-67">parse_error: add in document error message, currently only to stderr</li></div><div><li id="l-68">LaTeX output</li></div><div><li id="l-69">infinite xref header recursion: <a href="https://github.com/asciidoctor/asciidoctor/issues/3543">https://github.com/asciidoctor/asciidoctor/issues/3543</a> Solution: forbid x in titles, pass down context from parent.</li></div><div><li id="l-70">on the AST, put contents of headers inside headers</li></div><div><li id="l-71">parallel build across files on <code>./cirodown .</code></li></div><div><li id="l-72">includes without double newline between them</li></div><div><li id="l-73">link from first toplevel header of document to parents determined by includes</li></div><div><li id="l-74">proper reporting of which source file error is in when including, add a source field to the AST in addition to line and column</li></div><div><li id="l-75">auto-toc after the first paragraph</li></div><div><li id="l-76">on publish website, create a mechanism to share the auto-generated default main.scss CSS across all pages via @import, currently just embedding</li></div><div><li id="l-77">capitalization property of headers</li></div></ul></div><h2 id="related-projects"><a href="#related-projects" title="link to this element">17. Related projects</a><span>  | <a href="#toc-related-projects">â‡‘ toc</a> | <a href="#cirodown">â†‘ parent "Cirodown"</a></span></h2>
<div><ul id="ul-24">
<div><li id="l-78"><a href="https://github.com/rstudio/bookdown">https://github.com/rstudio/bookdown</a>, <a href="https://bookdown.org/">https://bookdown.org/</a>. Very similar feature set to what we want!!! Transpiles to markdown, and then goes through Pandoc: <a href="https://bookdown.org/yihui/bookdown/pandoc.html">https://bookdown.org/yihui/bookdown/pandoc.html</a>, thus will never run on browser without huge translation layers. But does have an obscene amount of output formats however.</li></div><div><li id="l-79"><a href="https://gohugo.io/">Hugo</a>. Pretty good, similar feature set to ours. But Go based, so hard on browser, and adds adhoc features on top of markdown once again</li></div></ul></div><div class="p" id="p-299"><span class="hide-hover"> <a href="#p-299">ğŸ”—</a></span>Less related but of interest:</div><div><ul id="ul-25">
<div><li id="l-80"><a href="http://www.uprtcl.io/">http://www.uprtcl.io/</a></li></div><div><li id="l-81"><a href="https://libretexts.org">https://libretexts.org</a></li></div></ul></div>
</main>
<footer>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA 4.0</a> unless noted</div>
<div>Website source code: <a href="https://github.com/cirosantilli/cirodown">https://github.com/cirosantilli/cirodown</a></div>
<div>Website Git version: <a href="https://github.com/cirosantilli/cirodown/commit/7299dcbe421104a0421db20ea1fe901a7206c4af">7299dcbe421104a0421db20ea1fe901a7206c4af</a></div>
</footer>
</body>
</html>
